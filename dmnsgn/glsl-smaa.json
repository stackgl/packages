{"readme":"<h1 class=\"title\"><a target=\"_blank\" href=\"https://github.com/dmnsgn/glsl-smaa\">glsl-smaa </a><div class=\"contrib\"></div></h1>\n<p>SMAA (Enhanced Subpixel Morphological Antialiasing) post-processing; WebGL (OpenGL ES 2.0) implementation with no fluff. All credit goes to the incredible work <a href=\"http://www.iryoku.com/smaa/\">here (iryoku)</a> and <a href=\"https://github.com/beakbeak/smaa-webgl\">there (beakbeak)</a>.</p>\n<iframe scrolling=\"no\" seamless=\"seamless\" src=\"https://dmnsgn.github.io/glsl-smaa/\"></iframe><h2 id=\"installation\">Installation</h2>\n<pre><code class=\"lang-bash\"><div class=\"line\"><span class=\"source shell\"><span>npm&#xA0;install&#xA0;glsl-smaa</span></span></div>\n</code></pre>\n<p><a href=\"https://nodei.co/npm/glsl-smaa/\"></a></p>\n<h2 id=\"usage\">Usage</h2>\n<p>Three passes are required to apply the effect:</p>\n<pre><code>             |input|------------------&#xB7;\n                v                     |\n      [ SMAA*EdgeDetection ]          |\n                v                     |\n            |edgesTex|                |\n                v                     |\n[ SMAABlendingWeightCalculation ]     |\n                v                     |\n            |blendTex|                |\n                v                     |\n  [ SMAANeighborhoodBlending ] &lt;------&#xB7;\n                v\n             |output|\n</code></pre><p>You would typically set this up as part of a post-processing chain with FBOs.</p>\n<p>See the <a href=\"https://dmnsgn.github.io/glsl-smaa/\">demo</a> and its <a href=\"http://github.com/dmnsgn/glsl-smaa/blob/master/demo/index.js\">source</a> for an example with <a href=\"http://regl.party/\">REGL</a>.</p>\n<h2 id=\"attributes\">Attributes</h2>\n<p>Attributes required for all vertex shaders:</p>\n<table>\n<thead>\n<tr>\n<th>Name</th>\n<th>Type</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>aPosition</strong></td>\n<td>vec2</td>\n<td>Screen vertices.</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"uniforms-and-defines\">Uniforms and defines</h2>\n<p>Uniforms required for all shaders:</p>\n<table>\n<thead>\n<tr>\n<th>Name</th>\n<th>Type</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>resolution</strong></td>\n<td>vec2</td>\n<td>The framebuffer size.</td>\n</tr>\n</tbody>\n</table>\n<p><code>#define</code> can be preprended to the shaders to overwrite default settings. Typically:</p>\n<pre><code class=\"lang-js\"><div class=\"line\"><span class=\"source js\"><span>const&#xA0;frag&#xA0;=&#xA0;`#define&#xA0;SMAA_PRESET_HIGH</span></span></div><div class=\"line\"><span class=\"source js\"><span>${SMAA_WEIGHTS_FRAG}</span></span></div><div class=\"line\"><span class=\"source js\"><span>`;</span></span></div>\n</code></pre>\n<h3 id=\"edges-vert\"><code>edges.vert</code></h3>\n<p>N/A</p>\n<h3 id=\"edges-edge-detection-method-frag\"><code>edges-&lt;edge-detection-method&gt;.frag</code></h3>\n<p>You can use one of the 3 following edge detection method:</p>\n<ul>\n<li><p>Depth: the fastest but it may miss some edges.</p>\n</li>\n<li><p>Luma: more expensive than depth edge detection, but catches visible edges that depth edge detection can miss.</p>\n</li>\n<li><p>Color: the most expensive one but catches chroma-only edges.</p>\n</li>\n</ul>\n<p><img src=\"https://raw.githubusercontent.com/dmnsgn/glsl-smaa/master/demo/preview-edges.gif\" alt></p>\n<p>Defines:</p>\n<pre><code class=\"lang-glsl\"><div class=\"line\"><span class=\"source glsl\"><span class=\"meta preprocessor macro c\"><span>#</span><span class=\"keyword control import define c\"><span>define</span></span><span>&#xA0;</span><span class=\"entity name function preprocessor c\"><span>SMAA_THRESHOLD</span></span><span>&#xA0;</span><span class=\"constant numeric c\"><span>0.1</span></span></span></span></div><div class=\"line\"><span class=\"source glsl\"><span class=\"meta preprocessor macro c\"><span>#</span><span class=\"keyword control import define c\"><span>define</span></span><span>&#xA0;</span><span class=\"entity name function preprocessor c\"><span>SMAA_LOCAL_CONTRAST_ADAPTATION_FACTOR</span></span><span>&#xA0;</span><span class=\"constant numeric c\"><span>2.0</span></span></span></span></div>\n</code></pre>\n<table>\n<thead>\n<tr>\n<th>Name</th>\n<th>Default [Range]</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>SMAA_THRESHOLD</strong></td>\n<td>0.1 [0, 0.5]</td>\n<td>Specifies the threshold or sensitivity to edges. Lowering this value you will be able to detect more edges at the expense of performance. Range: [0, 0.5]. 0.1 is a reasonable value, and allows to catch most visible edges. 0.05 is a rather overkill value, that allows to catch &apos;em all.</td>\n</tr>\n<tr>\n<td><strong>SMAA_LOCAL_CONTRAST_ADAPTATION_FACTOR</strong></td>\n<td>2.0</td>\n<td>If there is an neighbor edge that has SMAA_LOCAL_CONTRAST_FACTOR times bigger contrast than current edge, current edge will be discarded. This allows to eliminate spurious crossing edges, and is based on the fact that, if there is too much contrast in a direction, that will hide perceptually contrast in the other neighbors.</td>\n</tr>\n</tbody>\n</table>\n<p>Uniforms:</p>\n<h4 id=\"luma-edges-frag\"><code>luma-edges.frag</code></h4>\n<table>\n<thead>\n<tr>\n<th>Name</th>\n<th>Type</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>colorTex</strong></td>\n<td>sampler2D</td>\n<td>The input color framebuffer.</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"color-edges-frag\"><code>color-edges.frag</code></h4>\n<table>\n<thead>\n<tr>\n<th>Name</th>\n<th>Type</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>colorTex</strong></td>\n<td>sampler2D</td>\n<td>The input color framebuffer.</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"depth-edges-frag\"><code>depth-edges.frag</code></h4>\n<table>\n<thead>\n<tr>\n<th>Name</th>\n<th>Type</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>depthTex</strong></td>\n<td>sampler2D</td>\n<td>The input depth framebuffer.</td>\n</tr>\n</tbody>\n</table>\n<hr>\n<h3 id=\"smaa-weights-vert-frag-\"><code>smaa-weights.(vert|frag)</code></h3>\n<p>Defines:</p>\n<pre><code class=\"lang-glsl\"><div class=\"line\"><span class=\"source glsl\"><span>#&#xA0;Use&#xA0;presets:</span></span></div><div class=\"line\"><span class=\"source glsl\"><span class=\"meta preprocessor macro c\"><span>#</span><span class=\"keyword control import define c\"><span>define</span></span><span>&#xA0;</span><span class=\"entity name function preprocessor c\"><span>SMAA_PRESET_LOW</span></span></span></span></div><div class=\"line\"><span class=\"source glsl\"><span class=\"meta preprocessor macro c\"><span>#</span><span class=\"keyword control import define c\"><span>define</span></span><span>&#xA0;</span><span class=\"entity name function preprocessor c\"><span>SMAA_PRESET_MEDIUM</span></span></span></span></div><div class=\"line\"><span class=\"source glsl\"><span class=\"meta preprocessor macro c\"><span>#</span><span class=\"keyword control import define c\"><span>define</span></span><span>&#xA0;</span><span class=\"entity name function preprocessor c\"><span>SMAA_PRESET_HIGH</span></span></span></span></div><div class=\"line\"><span class=\"source glsl\"><span class=\"meta preprocessor macro c\"><span>#</span><span class=\"keyword control import define c\"><span>define</span></span><span>&#xA0;</span><span class=\"entity name function preprocessor c\"><span>SMAA_PRESET_ULTRA</span></span></span></span></div><div class=\"line\"><span class=\"source glsl\"><span>&#xA0;</span></span></div><div class=\"line\"><span class=\"source glsl\"><span>#&#xA0;or&#xA0;individually&#xA0;setting:</span></span></div><div class=\"line\"><span class=\"source glsl\"><span class=\"meta preprocessor macro c\"><span>#</span><span class=\"keyword control import define c\"><span>define</span></span><span>&#xA0;</span><span class=\"entity name function preprocessor c\"><span>SMAA_THRESHOLD</span></span><span>&#xA0;</span><span class=\"constant numeric c\"><span>0.1</span></span></span></span></div><div class=\"line\"><span class=\"source glsl\"><span class=\"meta preprocessor macro c\"><span>#</span><span class=\"keyword control import define c\"><span>define</span></span><span>&#xA0;</span><span class=\"entity name function preprocessor c\"><span>SMAA_MAX_SEARCH_STEPS</span></span><span>&#xA0;</span><span class=\"constant numeric c\"><span>16</span></span></span></span></div><div class=\"line\"><span class=\"source glsl\"><span class=\"meta preprocessor macro c\"><span>#</span><span class=\"keyword control import define c\"><span>define</span></span><span>&#xA0;</span><span class=\"entity name function preprocessor c\"><span>SMAA_MAX_SEARCH_STEPS_DIAG</span></span><span>&#xA0;</span><span class=\"constant numeric c\"><span>8</span></span></span></span></div><div class=\"line\"><span class=\"source glsl\"><span class=\"meta preprocessor macro c\"><span>#</span><span class=\"keyword control import define c\"><span>define</span></span><span>&#xA0;</span><span class=\"entity name function preprocessor c\"><span>SMAA_CORNER_ROUNDING</span></span><span>&#xA0;</span><span class=\"constant numeric c\"><span>25</span></span></span></span></div><div class=\"line\"><span class=\"source glsl\"><span>&#xA0;</span></span></div><div class=\"line\"><span class=\"source glsl\"><span>#&#xA0;and&#xA0;optionally&#xA0;disable&#xA0;diagonal&#xA0;and&#xA0;corner&#xA0;detection:</span></span></div><div class=\"line\"><span class=\"source glsl\"><span class=\"meta preprocessor macro c\"><span>#</span><span class=\"keyword control import define c\"><span>define</span></span><span>&#xA0;</span><span class=\"entity name function preprocessor c\"><span>SMAA_DISABLE_DIAG_DETECTION</span></span></span></span></div><div class=\"line\"><span class=\"source glsl\"><span class=\"meta preprocessor macro c\"><span>#</span><span class=\"keyword control import define c\"><span>define</span></span><span>&#xA0;</span><span class=\"entity name function preprocessor c\"><span>SMAA_DISABLE_CORNER_DETECTION</span></span></span></span></div>\n</code></pre>\n<table>\n<thead>\n<tr>\n<th>Name</th>\n<th>Default [Range]</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>SMAA_THRESHOLD</strong></td>\n<td>0.1 [0, 0.5]</td>\n<td>Should the same as for the edge pass.</td>\n</tr>\n<tr>\n<td><strong>SMAA_MAX_SEARCH_STEPS</strong></td>\n<td>16 [0, 112]</td>\n<td>Specifies the maximum steps performed in the horizontal/vertical pattern searches, at each side of the pixel. In number of pixels, it&apos;s actually the double. So the maximum line length perfectly handled by, for example 16, is 64 (by perfectly, we meant that longer lines won&apos;t look as good, but still antialiased.</td>\n</tr>\n<tr>\n<td><strong>SMAA_MAX_SEARCH_STEPS_DIAG</strong></td>\n<td>8 [0, 20]</td>\n<td>Specifies the maximum steps performed in the diagonal pattern searches, at each side of the pixel. In this case we jump one pixel at time, instead of two.</td>\n</tr>\n<tr>\n<td><strong>SMAA_CORNER_ROUNDING</strong></td>\n<td>25 [0, 100]</td>\n<td>Specifies how much sharp corners will be rounded.</td>\n</tr>\n</tbody>\n</table>\n<p>Uniforms:</p>\n<table>\n<thead>\n<tr>\n<th>Name</th>\n<th>Type</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>edgesTex</strong></td>\n<td>sampler2D</td>\n<td>The framebuffer with edges.</td>\n</tr>\n<tr>\n<td><strong>areaTex</strong></td>\n<td>sampler2D</td>\n<td>Precalculated textures loadable from <code>textures.js</code> base64 urls.</td>\n</tr>\n<tr>\n<td><strong>searchTex</strong></td>\n<td>sampler2D</td>\n<td>Precalculated textures loadable from <code>textures.js</code> base64 urls.</td>\n</tr>\n</tbody>\n</table>\n<hr>\n<h3 id=\"smaa-blend-vert-frag-\"><code>smaa-blend.(vert|frag)</code></h3>\n<table>\n<thead>\n<tr>\n<th>Name</th>\n<th>Type</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>colorTex</strong></td>\n<td>sampler2D</td>\n<td>The input color framebuffer.</td>\n</tr>\n<tr>\n<td><strong>blendTex</strong></td>\n<td>sampler2D</td>\n<td>The framebuffer with weights.</td>\n</tr>\n</tbody>\n</table>\n<hr>\n<h2 id=\"license\">License</h2>\n<p>Copyright (C) 2013 Jorge Jimenez (<a href=\"http://github.com/dmnsgn/glsl-smaa/blob/master/mailto:jorge@iryoku.com\">jorge@iryoku.com</a>)\nCopyright (C) 2013 Jose I. Echevarria (<a href=\"http://github.com/dmnsgn/glsl-smaa/blob/master/mailto:joseignacioechevarria@gmail.com\">joseignacioechevarria@gmail.com</a>)\nCopyright (C) 2013 Belen Masia (<a href=\"http://github.com/dmnsgn/glsl-smaa/blob/master/mailto:bmasia@unizar.es\">bmasia@unizar.es</a>)\nCopyright (C) 2013 Fernando Navarro (<a href=\"http://github.com/dmnsgn/glsl-smaa/blob/master/mailto:fernandn@microsoft.com\">fernandn@microsoft.com</a>)\nCopyright (C) 2013 Diego Gutierrez (<a href=\"http://github.com/dmnsgn/glsl-smaa/blob/master/mailto:diegog@unizar.es\">diegog@unizar.es</a>)</p>\n<p>MIT. See <a href=\"https://github.com/dmnsgn/glsl-smaa/blob/master/LICENSE.md\">license file</a>.</p>\n"}