{"readme":"<h1 class=\"title\"><a target=\"_blank\" href=\"https://github.com/stackgl/gl-compare\">gl-compare </a><div class=\"contrib\"></div></h1>\n<p>Visually compare two WebGL render loops on the fly by drawing them to an FBO\nand diffing them with shaders.</p>\n<p><iframe scrolling=\"no\" seamless=\"seamless\" src=\"http://stack.gl/gl-compare/\"></iframe></p>\n<h2 id=\"usage\">Usage</h2>\n<p><a href=\"https://nodei.co/npm/gl-compare/\"></a></p>\n<h3 id=\"comparison-compare-gl-actual-expected-\">comparison = compare(gl, actual, expected)</h3>\n<p>Creates a comparison renderer.</p>\n<ul>\n<li><code>gl</code> is the WebGL context.</li>\n<li><code>actual(fbo)</code> is the first render loop to run.</li>\n<li><code>expected(fbo)</code> is the second render loop to run.</li>\n</ul>\n<p>Note that these are both running within the same context &#x2013; generally, this won&apos;t\nbe a problem if you&apos;re cleaning up after yourself, but keep that in mind. Also\nnote that instead of using:</p>\n<pre><code class=\"lang-javascript\"><div class=\"line\"><span class=\"source js\"><span>gl.bindFramebuffer(gl.FRAMEBUFFER,&#xA0;null)</span></span></div>\n</code></pre>\n<p>You should use:</p>\n<pre><code class=\"lang-javascript\"><div class=\"line\"><span class=\"source js\"><span>fbo.bind()</span></span></div>\n</code></pre>\n<p>Where <code>fbo</code> is the first argument passed to the render loop. If you&apos;d like to\nresize your FBOs to match the size of the canvas:</p>\n<pre><code class=\"lang-javascript\"><div class=\"line\"><span class=\"source js\"><span>function&#xA0;actual(fbo)&#xA0;{</span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;fbo.shape&#xA0;=&#xA0;[canvas.height,&#xA0;canvas.width]</span></span></div><div class=\"line\"><span class=\"source js\"><span>}</span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;</span></span></div><div class=\"line\"><span class=\"source js\"><span>function&#xA0;expected(fbo)&#xA0;{</span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;fbo.shape&#xA0;=&#xA0;[canvas.height,&#xA0;canvas.width]</span></span></div><div class=\"line\"><span class=\"source js\"><span>}</span></span></div>\n</code></pre>\n<h3 id=\"comparison-run-\">comparison.run()</h3>\n<p>Renders the <code>actual</code> and <code>expected</code> loops to their respective FBOs. Should be\ncalled before you call <code>comparison.render</code>.</p>\n<h3 id=\"comparison-render-\">comparison.render()</h3>\n<p>Renders the comparison to your screen.</p>\n<h3 id=\"comparison-mode\">comparison.mode</h3>\n<p>The mode of comparison &#x2013; may be set to one of the following:</p>\n<ul>\n<li><code>diff</code>: RGB color difference.</li>\n<li><code>onion</code>: blending between <code>actual</code> and <code>expected</code>.</li>\n<li><code>slide</code>: a slider that divides <code>actual</code> and <code>expected</code>.</li>\n</ul>\n<h3 id=\"comparison-amount\">comparison.amount</h3>\n<p>Used to vary the amount of diffing to do for each mode, and can be any value\nbetween 0 and 1. Has the following effects:</p>\n<ul>\n<li><code>diff</code>: 0 will amplify <em>any</em> difference considerably, whereas 1 will dull the\ndifference to only show the most significant changes.</li>\n<li><code>onion</code>: 0 will display <code>expected</code>, 1 will display <code>actual</code>, and any values\nin between will be a mixture of both.</li>\n<li><code>slide</code>: 0 will display <code>expected</code>, 1 will display <code>actual</code>, and any values\nin between will move the slider from the left of the buffer to the right.</li>\n</ul>\n<h2 id=\"license\">License</h2>\n<p>MIT. See <a href=\"http://github.com/gl-modules/gl-compare/blob/master/LICENSE.md\">LICENSE.md</a> for details.</p>\n"}