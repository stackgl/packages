{"readme":"<h1 class=\"title\"><a target=\"_blank\" href=\"https://github.com/stackgl/glslify\">glslify</a><div class=\"contrib\"></div></h1>\n<p><a href=\"http://github.com/badges/stability-badges\"></a></p>\n<p>A node.js-style module system for GLSL!</p>\n<p>This module contains glslify&apos;s command-line interface (CLI) and\n<a href=\"http://browserify.org/\">browserify</a> transform. It forms one of the core\ncomponents of the <a href=\"http://stack.gl/\">stack.gl</a> ecosystem, allowing you to\ninstall GLSL modules from <a href=\"http://npmjs.com\">npm</a> and use them in your\nshaders. This makes it trivial to piece together different effects and\ntechniques from the community, including but certainly not limited to\n<a href=\"https://github.com/hughsk/glsl-fog\">fog</a>,\n<a href=\"https://github.com/hughsk/glsl-noise\">noise</a>,\n<a href=\"https://github.com/mattdesl/glsl-film-grain\">film grain</a>,\n<a href=\"https://github.com/stackgl/glsl-smooth-min\">raymarching helpers</a>,\n<a href=\"https://github.com/stackgl/glsl-easings\">easing functions</a> and\n<a href=\"https://github.com/stackgl/glsl-specular-cook-torrance\">lighting models</a>.</p>\n<p>A full list can be found on the <a href=\"http://stack.gl/packages\">stack.gl packages list</a>\nunder the &quot;Shader Components&quot; category.</p>\n<p>Because glslify just outputs a single shader file as a string, it&apos;s easy to use\nit with any WebGL framework of your choosing,\nprovided they accept custom shaders. Integration is planned for\n<a href=\"http://threejs.org/\">three.js</a> and\n<a href=\"http://vorg.github.io/pex/\">pex</a>, with more on the way!\n<a href=\"https://github.com/stackgl/glslify/issues/new\">Open an issue</a> here if you&apos;d like to\ndiscuss integrating glslify with your platform of choice.</p>\n<p><em>If you&apos;re interested in playing around with glslify, you should check out\n<a href=\"http://glslb.in/\">glslb.in</a>: it&apos;s a fragment shader sandbox similar to\n<a href=\"http://shadertoy.com/\">Shadertoy</a> and\n<a href=\"http://glslsandbox.com/\">GLSL Sandbox</a>\nwith built in support for glslify.</em></p>\n<h2 id=\"installation\">Installation</h2>\n<p><a href=\"https://nodei.co/npm/glslify/\"></a></p>\n<p>To install the command-line interface, install glslify globally like\nso:</p>\n<pre><code class=\"lang-bash\"><div class=\"line\"><span class=\"source shell\"><span>npm&#xA0;install&#xA0;-g&#xA0;glslify</span></span></div>\n</code></pre>\n<p>To install glslify for use as a browserify transform, you should\ninstall it locally instead:</p>\n<pre><code class=\"lang-bash\"><div class=\"line\"><span class=\"source shell\"><span>npm&#xA0;install&#xA0;glslify</span></span></div>\n</code></pre>\n<h2 id=\"getting-started\">Getting Started</h2>\n<h3 id=\"cli\">CLI</h3>\n<p>The CLI can take a file as its first argument, and output to a file\nusing the <code>-o</code> flag:</p>\n<pre><code class=\"lang-bash\"><div class=\"line\"><span class=\"source shell\"><span>glslify&#xA0;index.glsl&#xA0;-o&#xA0;output.glsl</span></span></div>\n</code></pre>\n<p>It can also read input from stdin and output to stdout:</p>\n<pre><code class=\"lang-bash\"><div class=\"line\"><span class=\"source shell\"><span>cat&#xA0;index.glsl&#xA0;</span><span class=\"keyword operator pipe shell\"><span>|</span></span><span>&#xA0;glslify&#xA0;</span><span class=\"keyword operator redirect shell\"><span>&gt;</span></span><span>&#xA0;output.glsl</span></span></div>\n</code></pre>\n<h3 id=\"browserify-transform\">Browserify Transform</h3>\n<p>If using browserify from the command-line, simply pass glslify\nin as a transform using the <code>-t</code>/<code>--transform</code> flag:</p>\n<pre><code class=\"lang-bash\"><div class=\"line\"><span class=\"source shell\"><span>browserify&#xA0;-t&#xA0;glslify&#xA0;index.js&#xA0;-o&#xA0;bundle.js</span></span></div>\n</code></pre>\n<p>Alternatively, you may include glslify as a <code>browserify.transform</code>\nin your <code>package.json</code> file:</p>\n<pre><code class=\"lang-json\"><div class=\"line\"><span class=\"source json\"><span class=\"meta structure dictionary json\"><span class=\"punctuation definition dictionary begin json\"><span>{</span></span></span></span></div><div class=\"line\"><span class=\"source json\"><span class=\"meta structure dictionary json\"><span>&#xA0;&#xA0;</span><span class=\"string quoted double json\"><span class=\"punctuation definition string begin json\"><span>&quot;</span></span><span>name</span><span class=\"punctuation definition string end json\"><span>&quot;</span></span></span><span class=\"meta structure dictionary value json\"><span class=\"punctuation separator dictionary key-value json\"><span>:</span></span><span>&#xA0;</span><span class=\"string quoted double json\"><span class=\"punctuation definition string begin json\"><span>&quot;</span></span><span>my-app</span><span class=\"punctuation definition string end json\"><span>&quot;</span></span></span><span class=\"punctuation separator dictionary pair json\"><span>,</span></span></span></span></span></div><div class=\"line\"><span class=\"source json\"><span class=\"meta structure dictionary json\"><span>&#xA0;&#xA0;</span><span class=\"string quoted double json\"><span class=\"punctuation definition string begin json\"><span>&quot;</span></span><span>dependencies</span><span class=\"punctuation definition string end json\"><span>&quot;</span></span></span><span class=\"meta structure dictionary value json\"><span class=\"punctuation separator dictionary key-value json\"><span>:</span></span><span>&#xA0;</span><span class=\"meta structure dictionary json\"><span class=\"punctuation definition dictionary begin json\"><span>{</span></span></span></span></span></span></div><div class=\"line\"><span class=\"source json\"><span class=\"meta structure dictionary json\"><span class=\"meta structure dictionary value json\"><span class=\"meta structure dictionary json\"><span>&#xA0;&#xA0;&#xA0;&#xA0;</span><span class=\"string quoted double json\"><span class=\"punctuation definition string begin json\"><span>&quot;</span></span><span>glslify</span><span class=\"punctuation definition string end json\"><span>&quot;</span></span></span><span class=\"meta structure dictionary value json\"><span class=\"punctuation separator dictionary key-value json\"><span>:</span></span><span>&#xA0;</span><span class=\"string quoted double json\"><span class=\"punctuation definition string begin json\"><span>&quot;</span></span><span>^2.0.0</span><span class=\"punctuation definition string end json\"><span>&quot;</span></span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source json\"><span class=\"meta structure dictionary json\"><span class=\"meta structure dictionary value json\"><span class=\"meta structure dictionary json\"><span class=\"meta structure dictionary value json\"><span>&#xA0;&#xA0;</span></span><span class=\"punctuation definition dictionary end json\"><span>}</span></span></span><span class=\"punctuation separator dictionary pair json\"><span>,</span></span></span></span></span></div><div class=\"line\"><span class=\"source json\"><span class=\"meta structure dictionary json\"><span>&#xA0;&#xA0;</span><span class=\"string quoted double json\"><span class=\"punctuation definition string begin json\"><span>&quot;</span></span><span>browserify</span><span class=\"punctuation definition string end json\"><span>&quot;</span></span></span><span class=\"meta structure dictionary value json\"><span class=\"punctuation separator dictionary key-value json\"><span>:</span></span><span>&#xA0;</span><span class=\"meta structure dictionary json\"><span class=\"punctuation definition dictionary begin json\"><span>{</span></span></span></span></span></span></div><div class=\"line\"><span class=\"source json\"><span class=\"meta structure dictionary json\"><span class=\"meta structure dictionary value json\"><span class=\"meta structure dictionary json\"><span>&#xA0;&#xA0;&#xA0;&#xA0;</span><span class=\"string quoted double json\"><span class=\"punctuation definition string begin json\"><span>&quot;</span></span><span>transform</span><span class=\"punctuation definition string end json\"><span>&quot;</span></span></span><span class=\"meta structure dictionary value json\"><span class=\"punctuation separator dictionary key-value json\"><span>:</span></span><span>&#xA0;</span><span class=\"meta structure array json\"><span class=\"punctuation definition array begin json\"><span>[</span></span><span class=\"string quoted double json\"><span class=\"punctuation definition string begin json\"><span>&quot;</span></span><span>glslify</span><span class=\"punctuation definition string end json\"><span>&quot;</span></span></span><span class=\"punctuation definition array end json\"><span>]</span></span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source json\"><span class=\"meta structure dictionary json\"><span class=\"meta structure dictionary value json\"><span class=\"meta structure dictionary json\"><span class=\"meta structure dictionary value json\"><span>&#xA0;&#xA0;</span></span><span class=\"punctuation definition dictionary end json\"><span>}</span></span></span></span></span></span></div><div class=\"line\"><span class=\"source json\"><span class=\"meta structure dictionary json\"><span class=\"punctuation definition dictionary end json\"><span>}</span></span></span></span></div>\n</code></pre>\n<p>When writing your app, you should be able to require and call\nglslify like so:</p>\n<pre><code class=\"lang-javascript\"><div class=\"line\"><span class=\"source js\"><span class=\"comment line double-slash js\"><span class=\"punctuation definition comment js\"><span>//</span></span><span>&#xA0;index.js</span><span>&#xA0;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"storage modifier js\"><span>var</span></span><span>&#xA0;glslify&#xA0;</span><span class=\"keyword operator assignment js\"><span>=</span></span><span>&#xA0;</span><span class=\"support function js\"><span>require</span></span><span class=\"meta brace round js\"><span>(</span></span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&apos;</span></span><span>glslify</span><span class=\"punctuation definition string end js\"><span>&apos;</span></span></span><span class=\"meta brace round js\"><span>)</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;</span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"storage modifier js\"><span>var</span></span><span>&#xA0;src&#xA0;</span><span class=\"keyword operator assignment js\"><span>=</span></span><span>&#xA0;glslify</span><span class=\"meta brace round js\"><span>(</span></span><span class=\"support variable js\"><span>__dirname</span></span><span>&#xA0;</span><span class=\"keyword operator js\"><span>+</span></span><span>&#xA0;</span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&apos;</span></span><span>/shader.glsl</span><span class=\"punctuation definition string end js\"><span>&apos;</span></span></span><span class=\"meta brace round js\"><span>)</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;</span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"entity name type object js console\"><span>console</span></span><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"support function js console\"><span>log</span></span><span class=\"meta brace round js\"><span>(</span></span><span>src</span><span class=\"meta brace round js\"><span>)</span></span></span></div>\n</code></pre>\n<p>Your glslify calls will be replaced with bundled GLSL strings\nat build time automatically for you!</p>\n<pre><code class=\"lang-javascript\"><div class=\"line\"><span class=\"source js\"><span class=\"comment line double-slash js\"><span class=\"punctuation definition comment js\"><span>//</span></span><span>&#xA0;index.js</span><span>&#xA0;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"storage modifier js\"><span>var</span></span><span>&#xA0;src&#xA0;</span><span class=\"keyword operator assignment js\"><span>=</span></span><span>&#xA0;</span><span class=\"string quoted double js\"><span class=\"punctuation definition string begin js\"><span>&quot;</span></span><span>#define&#xA0;GLSLIFY&#xA0;1</span><span class=\"constant character escape js\"><span>\\n</span><span>\\n</span></span><span>precision&#xA0;mediump&#xA0;float;&#xA0;...</span><span class=\"punctuation definition string end js\"><span>&quot;</span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;</span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"entity name type object js console\"><span>console</span></span><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"support function js console\"><span>log</span></span><span class=\"meta brace round js\"><span>(</span></span><span>src</span><span class=\"meta brace round js\"><span>)</span></span></span></div>\n</code></pre>\n<h3 id=\"inline-mode\">Inline mode</h3>\n<p>By passing the <code>inline</code> option as true, you can write your\nshader inline instead of requiring it to be in a separate\nfile:</p>\n<pre><code class=\"lang-javascript\"><div class=\"line\"><span class=\"source js\"><span class=\"storage modifier js\"><span>var</span></span><span>&#xA0;glslify&#xA0;</span><span class=\"keyword operator assignment js\"><span>=</span></span><span>&#xA0;</span><span class=\"support function js\"><span>require</span></span><span class=\"meta brace round js\"><span>(</span></span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&apos;</span></span><span>glslify</span><span class=\"punctuation definition string end js\"><span>&apos;</span></span></span><span class=\"meta brace round js\"><span>)</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;</span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"storage modifier js\"><span>var</span></span><span>&#xA0;src&#xA0;</span><span class=\"keyword operator assignment js\"><span>=</span></span><span>&#xA0;glslify</span><span class=\"meta brace round js\"><span>(</span></span><span class=\"string quoted template js\"><span class=\"punctuation definition string begin js\"><span>`</span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"string quoted template js\"><span>&#xA0;&#xA0;precision&#xA0;mediump&#xA0;float;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"string quoted template js\"><span>&#xA0;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"string quoted template js\"><span>&#xA0;&#xA0;void&#xA0;main()&#xA0;{</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"string quoted template js\"><span>&#xA0;&#xA0;&#xA0;&#xA0;gl_FragColor&#xA0;=&#xA0;vec4(1.0);</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"string quoted template js\"><span>&#xA0;&#xA0;}</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"string quoted template js\"><span class=\"punctuation definition string end js\"><span>`</span></span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;</span><span class=\"meta brace curly js\"><span>{</span></span><span>&#xA0;inline</span><span class=\"keyword operator js\"><span>:</span></span><span>&#xA0;</span><span class=\"constant language boolean true js\"><span>true</span></span><span>&#xA0;</span><span class=\"meta brace curly js\"><span>}</span></span><span class=\"meta brace round js\"><span>)</span></span></span></div>\n</code></pre>\n<h3 id=\"-webpack-http-webpack-github-io-loader\"><a href=\"http://webpack.github.io/\">Webpack</a> Loader</h3>\n<p>You can use the\n<a href=\"https://github.com/stackgl/glslify-loader\">glslify-loader</a>\nmodule to bundle shaders through glslify with Webpack. Check out\n<a href=\"https://github.com/stackgl/glslify-loader\">the repository</a>\nfor further information.</p>\n<h2 id=\"usage\">Usage</h2>\n<h3 id=\"installing-a-glsl-module\">Installing a GLSL Module</h3>\n<p>Much like plain JavaScript modules, GLSL modules are stored on npm.\nThe main difference is that GLSL modules contain an <code>index.glsl</code> file\ninstead of an <code>index.js</code>. Generally, these modules start with <code>glsl-</code>\nin their name.</p>\n<p>To install <a href=\"https://github.com/hughsk/glsl-noise\">glsl-noise</a> in\nyour current directory:</p>\n<pre><code class=\"lang-bash\"><div class=\"line\"><span class=\"source shell\"><span>npm&#xA0;install&#xA0;glsl-noise</span></span></div>\n</code></pre>\n<p>This will download glsl-noise and any of its dependencies, placing\nthem in a <code>node_modules</code> directory for glslify to use.</p>\n<h3 id=\"importing-a-glsl-module\">Importing a GLSL Module</h3>\n<p>You can import a module using the following <code>#pragma</code> syntax:</p>\n<pre><code class=\"lang-glsl\"><div class=\"line\"><span class=\"source glsl\"><span>#</span><span class=\"meta preprocessor keyword import define glsl\"><span>pragma&#xA0;glslify:</span></span><span class=\"entity name function glsl\"><span>&#xA0;noise&#xA0;</span></span><span class=\"operator glsl\"><span>=&#xA0;</span></span><span class=\"keyword operator glsl\"><span>require</span></span><span>(</span><span class=\"string quoted double\"><span>glsl-noise/simplex/2d</span></span><span>)</span><span>&#xA0;</span></span></div><div class=\"line\"><span class=\"source glsl\"><span>&#xA0;</span></span></div><div class=\"line\"><span class=\"source glsl\"><span class=\"storage type glsl\"><span>void</span></span><span class=\"meta function c\"><span class=\"punctuation whitespace function leading c\"><span>&#xA0;</span></span><span class=\"entity name function c\"><span>main</span></span><span class=\"meta parens c\"><span class=\"punctuation section parens begin c\"><span>(</span></span><span class=\"punctuation section parens end c\"><span>)</span></span></span><span>&#xA0;</span><span class=\"meta block c\"><span class=\"punctuation section block begin c\"><span>{</span></span></span></span></span></div><div class=\"line\"><span class=\"source glsl\"><span class=\"meta function c\"><span class=\"meta block c\"><span>&#xA0;&#xA0;</span><span class=\"storage type glsl\"><span>float</span></span><span>&#xA0;brightness&#xA0;=</span><span class=\"meta function-call c\"><span class=\"punctuation whitespace function-call leading c\"><span>&#xA0;</span></span><span class=\"support function any-method c\"><span>noise</span></span><span>(</span></span><span class=\"support variable glsl\"><span>gl_FragCoord</span></span><span class=\"punctuation separator variable-access c\"><span>.</span></span><span class=\"variable other dot-access c\"><span>xy</span></span><span>);</span></span></span></span></div><div class=\"line\"><span class=\"source glsl\"><span class=\"meta function c\"><span class=\"meta block c\"><span>&#xA0;</span></span></span></span></div><div class=\"line\"><span class=\"source glsl\"><span class=\"meta function c\"><span class=\"meta block c\"><span>&#xA0;&#xA0;</span><span class=\"support variable glsl\"><span>gl_FragColor</span></span><span>&#xA0;=</span><span class=\"meta function-call c\"><span class=\"punctuation whitespace function-call leading c\"><span>&#xA0;</span></span><span class=\"support function any-method c\"><span>vec4</span></span><span>(</span><span class=\"support function any-method c\"><span>vec3</span></span><span>(</span></span><span>brightness),&#xA0;</span><span class=\"constant numeric c\"><span>1</span></span><span>.);</span></span></span></span></div><div class=\"line\"><span class=\"source glsl\"><span class=\"meta function c\"><span class=\"meta block c\"><span class=\"punctuation section block end c\"><span>}</span></span></span></span></span></div>\n</code></pre>\n<p>Shader dependencies are resolved using the same algorithm\nas node, so the above will load <code>./node_modules/simplex/2d.glsl</code>\nfrom the shader&apos;s directory.</p>\n<p>The above example would result in the following output:</p>\n<pre><code class=\"lang-glsl\"><div class=\"line\"><span class=\"source glsl\"><span class=\"meta preprocessor macro c\"><span>#</span><span class=\"keyword control import define c\"><span>define</span></span><span>&#xA0;</span><span class=\"entity name function preprocessor c\"><span>GLSLIFY</span></span><span>&#xA0;</span><span class=\"constant numeric c\"><span>1</span></span></span></span></div><div class=\"line\"><span class=\"source glsl\"><span>&#xA0;</span></span></div><div class=\"line\"><span class=\"source glsl\"><span class=\"comment line double-slash c++\"><span class=\"punctuation definition comment c++\"><span>//</span></span><span>&#xA0;</span></span></span></div><div class=\"line\"><span class=\"source glsl\"><span class=\"comment line double-slash c++\"><span class=\"punctuation definition comment c++\"><span>//</span></span><span>&#xA0;Description&#xA0;:&#xA0;Array&#xA0;and&#xA0;textureless&#xA0;GLSL&#xA0;2D&#xA0;simplex&#xA0;noise&#xA0;function.</span><span>&#xA0;</span></span></span></div><div class=\"line\"><span class=\"source glsl\"><span class=\"comment line double-slash c++\"><span class=\"punctuation definition comment c++\"><span>//</span></span><span>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;Author&#xA0;:&#xA0;Ian&#xA0;McEwan,&#xA0;Ashima&#xA0;Arts.</span><span>&#xA0;</span></span></span></div><div class=\"line\"><span class=\"source glsl\"><span class=\"comment line double-slash c++\"><span class=\"punctuation definition comment c++\"><span>//</span></span><span>&#xA0;&#xA0;Maintainer&#xA0;:&#xA0;ijm</span><span>&#xA0;</span></span></span></div><div class=\"line\"><span class=\"source glsl\"><span class=\"comment line double-slash c++\"><span class=\"punctuation definition comment c++\"><span>//</span></span><span>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;Lastmod&#xA0;:&#xA0;20110822&#xA0;(ijm)</span><span>&#xA0;</span></span></span></div><div class=\"line\"><span class=\"source glsl\"><span class=\"comment line double-slash c++\"><span class=\"punctuation definition comment c++\"><span>//</span></span><span>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;License&#xA0;:&#xA0;Copyright&#xA0;(C)&#xA0;2011&#xA0;Ashima&#xA0;Arts.&#xA0;All&#xA0;rights&#xA0;reserved.</span><span>&#xA0;</span></span></span></div><div class=\"line\"><span class=\"source glsl\"><span class=\"comment line double-slash c++\"><span class=\"punctuation definition comment c++\"><span>//</span></span><span>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;Distributed&#xA0;under&#xA0;the&#xA0;MIT&#xA0;License.&#xA0;See&#xA0;LICENSE&#xA0;file.</span><span>&#xA0;</span></span></span></div><div class=\"line\"><span class=\"source glsl\"><span class=\"comment line double-slash c++\"><span class=\"punctuation definition comment c++\"><span>//</span></span><span>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</span><span class=\"markup underline link https hyperlink\"><span>https://github.com/ashima/webgl-noise</span></span><span>&#xA0;</span></span></span></div><div class=\"line\"><span class=\"source glsl\"><span class=\"comment line double-slash c++\"><span class=\"punctuation definition comment c++\"><span>//</span></span><span>&#xA0;</span></span></span></div><div class=\"line\"><span class=\"source glsl\"><span>&#xA0;</span></span></div><div class=\"line\"><span class=\"source glsl\"><span class=\"storage type glsl\"><span>vec3</span></span><span class=\"meta function c\"><span class=\"punctuation whitespace function leading c\"><span>&#xA0;</span></span><span class=\"entity name function c\"><span>mod289_1_0</span></span><span class=\"meta parens c\"><span class=\"punctuation section parens begin c\"><span>(</span></span><span class=\"storage type glsl\"><span>vec3</span></span><span>&#xA0;x</span><span class=\"punctuation section parens end c\"><span>)</span></span></span><span>&#xA0;</span><span class=\"meta block c\"><span class=\"punctuation section block begin c\"><span>{</span></span></span></span></span></div><div class=\"line\"><span class=\"source glsl\"><span class=\"meta function c\"><span class=\"meta block c\"><span>&#xA0;&#xA0;</span><span class=\"keyword control glsl\"><span>return</span></span><span>&#xA0;x&#xA0;-</span><span class=\"punctuation whitespace support function leading c\"><span>&#xA0;</span></span><span class=\"support function C99 c\"><span>floor</span></span><span>(x&#xA0;*&#xA0;(</span><span class=\"constant numeric c\"><span>1.0</span></span><span>&#xA0;/&#xA0;</span><span class=\"constant numeric c\"><span>289.0</span></span><span>))&#xA0;*&#xA0;</span><span class=\"constant numeric c\"><span>289.0</span></span><span>;</span></span></span></span></div><div class=\"line\"><span class=\"source glsl\"><span class=\"meta function c\"><span class=\"meta block c\"><span class=\"punctuation section block end c\"><span>}</span></span></span></span></span></div><div class=\"line\"><span class=\"source glsl\"><span>&#xA0;</span></span></div><div class=\"line\"><span class=\"source glsl\"><span class=\"storage type glsl\"><span>vec2</span></span><span class=\"meta function c\"><span class=\"punctuation whitespace function leading c\"><span>&#xA0;</span></span><span class=\"entity name function c\"><span>mod289_1_0</span></span><span class=\"meta parens c\"><span class=\"punctuation section parens begin c\"><span>(</span></span><span class=\"storage type glsl\"><span>vec2</span></span><span>&#xA0;x</span><span class=\"punctuation section parens end c\"><span>)</span></span></span><span>&#xA0;</span><span class=\"meta block c\"><span class=\"punctuation section block begin c\"><span>{</span></span></span></span></span></div><div class=\"line\"><span class=\"source glsl\"><span class=\"meta function c\"><span class=\"meta block c\"><span>&#xA0;&#xA0;</span><span class=\"keyword control glsl\"><span>return</span></span><span>&#xA0;x&#xA0;-</span><span class=\"punctuation whitespace support function leading c\"><span>&#xA0;</span></span><span class=\"support function C99 c\"><span>floor</span></span><span>(x&#xA0;*&#xA0;(</span><span class=\"constant numeric c\"><span>1.0</span></span><span>&#xA0;/&#xA0;</span><span class=\"constant numeric c\"><span>289.0</span></span><span>))&#xA0;*&#xA0;</span><span class=\"constant numeric c\"><span>289.0</span></span><span>;</span></span></span></span></div><div class=\"line\"><span class=\"source glsl\"><span class=\"meta function c\"><span class=\"meta block c\"><span class=\"punctuation section block end c\"><span>}</span></span></span></span></span></div><div class=\"line\"><span class=\"source glsl\"><span>&#xA0;</span></span></div><div class=\"line\"><span class=\"source glsl\"><span class=\"storage type glsl\"><span>vec3</span></span><span class=\"meta function c\"><span class=\"punctuation whitespace function leading c\"><span>&#xA0;</span></span><span class=\"entity name function c\"><span>permute_1_1</span></span><span class=\"meta parens c\"><span class=\"punctuation section parens begin c\"><span>(</span></span><span class=\"storage type glsl\"><span>vec3</span></span><span>&#xA0;x</span><span class=\"punctuation section parens end c\"><span>)</span></span></span><span>&#xA0;</span><span class=\"meta block c\"><span class=\"punctuation section block begin c\"><span>{</span></span></span></span></span></div><div class=\"line\"><span class=\"source glsl\"><span class=\"meta function c\"><span class=\"meta block c\"><span>&#xA0;&#xA0;</span><span class=\"keyword control glsl\"><span>return</span></span><span class=\"meta function-call c\"><span class=\"punctuation whitespace function-call leading c\"><span>&#xA0;</span></span><span class=\"support function any-method c\"><span>mod289_1_0</span></span><span>(</span></span><span>((x*</span><span class=\"constant numeric c\"><span>34.0</span></span><span>)+</span><span class=\"constant numeric c\"><span>1.0</span></span><span>)*x);</span></span></span></span></div><div class=\"line\"><span class=\"source glsl\"><span class=\"meta function c\"><span class=\"meta block c\"><span class=\"punctuation section block end c\"><span>}</span></span></span></span></span></div><div class=\"line\"><span class=\"source glsl\"><span>&#xA0;</span></span></div><div class=\"line\"><span class=\"source glsl\"><span class=\"storage type glsl\"><span>float</span></span><span class=\"meta function c\"><span class=\"punctuation whitespace function leading c\"><span>&#xA0;</span></span><span class=\"entity name function c\"><span>snoise_1_2</span></span><span class=\"meta parens c\"><span class=\"punctuation section parens begin c\"><span>(</span></span><span class=\"storage type glsl\"><span>vec2</span></span><span>&#xA0;v</span><span class=\"punctuation section parens end c\"><span>)</span></span></span></span></span></div><div class=\"line\"><span class=\"source glsl\"><span class=\"meta function c\"><span>&#xA0;&#xA0;</span><span class=\"meta block c\"><span class=\"punctuation section block begin c\"><span>{</span></span></span></span></span></div><div class=\"line\"><span class=\"source glsl\"><span class=\"meta function c\"><span class=\"meta block c\"><span>&#xA0;&#xA0;</span><span class=\"storage modifier glsl\"><span>const</span></span><span>&#xA0;</span><span class=\"storage type glsl\"><span>vec4</span></span><span>&#xA0;C&#xA0;=</span><span class=\"meta function-call c\"><span class=\"punctuation whitespace function-call leading c\"><span>&#xA0;</span></span><span class=\"support function any-method c\"><span>vec4</span></span><span>(</span></span><span class=\"constant numeric c\"><span>0.211324865405187</span></span><span>,&#xA0;&#xA0;</span><span class=\"comment line double-slash c++\"><span class=\"punctuation definition comment c++\"><span>//</span></span><span>&#xA0;(3.0-sqrt(3.0))/6.0</span><span>&#xA0;</span></span></span></span></span></div><div class=\"line\"><span class=\"source glsl\"><span class=\"meta function c\"><span class=\"meta block c\"><span>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</span><span class=\"constant numeric c\"><span>0.366025403784439</span></span><span>,&#xA0;&#xA0;</span><span class=\"comment line double-slash c++\"><span class=\"punctuation definition comment c++\"><span>//</span></span><span>&#xA0;0.5*(sqrt(3.0)-1.0)</span><span>&#xA0;</span></span></span></span></span></div><div class=\"line\"><span class=\"source glsl\"><span class=\"meta function c\"><span class=\"meta block c\"><span>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;-</span><span class=\"constant numeric c\"><span>0.577350269189626</span></span><span>,&#xA0;&#xA0;</span><span class=\"comment line double-slash c++\"><span class=\"punctuation definition comment c++\"><span>//</span></span><span>&#xA0;-1.0&#xA0;+&#xA0;2.0&#xA0;*&#xA0;C.x</span><span>&#xA0;</span></span></span></span></span></div><div class=\"line\"><span class=\"source glsl\"><span class=\"meta function c\"><span class=\"meta block c\"><span>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</span><span class=\"constant numeric c\"><span>0.024390243902439</span></span><span>);&#xA0;</span><span class=\"comment line double-slash c++\"><span class=\"punctuation definition comment c++\"><span>//</span></span><span>&#xA0;1.0&#xA0;/&#xA0;41.0</span><span>&#xA0;</span></span></span></span></span></div><div class=\"line\"><span class=\"source glsl\"><span class=\"meta function c\"><span class=\"meta block c\"><span class=\"comment line double-slash c++\"><span class=\"punctuation definition comment c++\"><span>//</span></span><span>&#xA0;First&#xA0;corner</span><span>&#xA0;</span></span></span></span></span></div><div class=\"line\"><span class=\"source glsl\"><span class=\"meta function c\"><span class=\"meta block c\"><span>&#xA0;&#xA0;</span><span class=\"storage type glsl\"><span>vec2</span></span><span>&#xA0;i&#xA0;&#xA0;=</span><span class=\"punctuation whitespace support function leading c\"><span>&#xA0;</span></span><span class=\"support function C99 c\"><span>floor</span></span><span>(v&#xA0;+</span><span class=\"meta function-call c\"><span class=\"punctuation whitespace function-call leading c\"><span>&#xA0;</span></span><span class=\"support function any-method c\"><span>dot</span></span><span>(</span></span><span>v,&#xA0;C</span><span class=\"punctuation separator variable-access c\"><span>.</span></span><span class=\"variable other dot-access c\"><span>yy</span></span><span>)&#xA0;);</span></span></span></span></div><div class=\"line\"><span class=\"source glsl\"><span class=\"meta function c\"><span class=\"meta block c\"><span>&#xA0;&#xA0;</span><span class=\"storage type glsl\"><span>vec2</span></span><span>&#xA0;x0&#xA0;=&#xA0;v&#xA0;-&#xA0;&#xA0;&#xA0;i&#xA0;+</span><span class=\"meta function-call c\"><span class=\"punctuation whitespace function-call leading c\"><span>&#xA0;</span></span><span class=\"support function any-method c\"><span>dot</span></span><span>(</span></span><span>i,&#xA0;C</span><span class=\"punctuation separator variable-access c\"><span>.</span></span><span class=\"variable other dot-access c\"><span>xx</span></span><span>);</span></span></span></span></div><div class=\"line\"><span class=\"source glsl\"><span class=\"meta function c\"><span class=\"meta block c\"><span>&#xA0;</span></span></span></span></div><div class=\"line\"><span class=\"source glsl\"><span class=\"meta function c\"><span class=\"meta block c\"><span class=\"comment line double-slash c++\"><span class=\"punctuation definition comment c++\"><span>//</span></span><span>&#xA0;Other&#xA0;corners</span><span>&#xA0;</span></span></span></span></span></div><div class=\"line\"><span class=\"source glsl\"><span class=\"meta function c\"><span class=\"meta block c\"><span>&#xA0;&#xA0;</span><span class=\"storage type glsl\"><span>vec2</span></span><span>&#xA0;i1;</span></span></span></span></div><div class=\"line\"><span class=\"source glsl\"><span class=\"meta function c\"><span class=\"meta block c\"><span class=\"punctuation whitespace comment leading c++\"><span>&#xA0;&#xA0;</span></span><span class=\"comment line double-slash c++\"><span class=\"punctuation definition comment c++\"><span>//</span></span><span>i1.x&#xA0;=&#xA0;step(&#xA0;x0.y,&#xA0;x0.x&#xA0;);&#xA0;//&#xA0;x0.x&#xA0;&gt;&#xA0;x0.y&#xA0;?&#xA0;1.0&#xA0;:&#xA0;0.0</span><span>&#xA0;</span></span></span></span></span></div><div class=\"line\"><span class=\"source glsl\"><span class=\"meta function c\"><span class=\"meta block c\"><span class=\"punctuation whitespace comment leading c++\"><span>&#xA0;&#xA0;</span></span><span class=\"comment line double-slash c++\"><span class=\"punctuation definition comment c++\"><span>//</span></span><span>i1.y&#xA0;=&#xA0;1.0&#xA0;-&#xA0;i1.x;</span><span>&#xA0;</span></span></span></span></span></div><div class=\"line\"><span class=\"source glsl\"><span class=\"meta function c\"><span class=\"meta block c\"><span>&#xA0;&#xA0;i1&#xA0;=&#xA0;(x0</span><span class=\"punctuation separator variable-access c\"><span>.</span></span><span class=\"variable other dot-access c\"><span>x</span></span><span>&#xA0;&gt;&#xA0;x0</span><span class=\"punctuation separator variable-access c\"><span>.</span></span><span class=\"variable other dot-access c\"><span>y</span></span><span>)&#xA0;?</span><span class=\"meta function-call c\"><span class=\"punctuation whitespace function-call leading c\"><span>&#xA0;</span></span><span class=\"support function any-method c\"><span>vec2</span></span><span>(</span></span><span class=\"constant numeric c\"><span>1.0</span></span><span>,&#xA0;</span><span class=\"constant numeric c\"><span>0.0</span></span><span>)&#xA0;:</span><span class=\"meta function-call c\"><span class=\"punctuation whitespace function-call leading c\"><span>&#xA0;</span></span><span class=\"support function any-method c\"><span>vec2</span></span><span>(</span></span><span class=\"constant numeric c\"><span>0.0</span></span><span>,&#xA0;</span><span class=\"constant numeric c\"><span>1.0</span></span><span>);</span></span></span></span></div><div class=\"line\"><span class=\"source glsl\"><span class=\"meta function c\"><span class=\"meta block c\"><span class=\"punctuation whitespace comment leading c++\"><span>&#xA0;&#xA0;</span></span><span class=\"comment line double-slash c++\"><span class=\"punctuation definition comment c++\"><span>//</span></span><span>&#xA0;x0&#xA0;=&#xA0;x0&#xA0;-&#xA0;0.0&#xA0;+&#xA0;0.0&#xA0;*&#xA0;C.xx&#xA0;;</span><span>&#xA0;</span></span></span></span></span></div><div class=\"line\"><span class=\"source glsl\"><span class=\"meta function c\"><span class=\"meta block c\"><span class=\"punctuation whitespace comment leading c++\"><span>&#xA0;&#xA0;</span></span><span class=\"comment line double-slash c++\"><span class=\"punctuation definition comment c++\"><span>//</span></span><span>&#xA0;x1&#xA0;=&#xA0;x0&#xA0;-&#xA0;i1&#xA0;+&#xA0;1.0&#xA0;*&#xA0;C.xx&#xA0;;</span><span>&#xA0;</span></span></span></span></span></div><div class=\"line\"><span class=\"source glsl\"><span class=\"meta function c\"><span class=\"meta block c\"><span class=\"punctuation whitespace comment leading c++\"><span>&#xA0;&#xA0;</span></span><span class=\"comment line double-slash c++\"><span class=\"punctuation definition comment c++\"><span>//</span></span><span>&#xA0;x2&#xA0;=&#xA0;x0&#xA0;-&#xA0;1.0&#xA0;+&#xA0;2.0&#xA0;*&#xA0;C.xx&#xA0;;</span><span>&#xA0;</span></span></span></span></span></div><div class=\"line\"><span class=\"source glsl\"><span class=\"meta function c\"><span class=\"meta block c\"><span>&#xA0;&#xA0;</span><span class=\"storage type glsl\"><span>vec4</span></span><span>&#xA0;x12&#xA0;=&#xA0;x0</span><span class=\"punctuation separator variable-access c\"><span>.</span></span><span class=\"variable other dot-access c\"><span>xyxy</span></span><span>&#xA0;+&#xA0;C</span><span class=\"punctuation separator variable-access c\"><span>.</span></span><span class=\"variable other dot-access c\"><span>xxzz</span></span><span>;</span></span></span></span></div><div class=\"line\"><span class=\"source glsl\"><span class=\"meta function c\"><span class=\"meta block c\"><span>&#xA0;&#xA0;x12</span><span class=\"punctuation separator variable-access c\"><span>.</span></span><span class=\"variable other dot-access c\"><span>xy</span></span><span>&#xA0;-=&#xA0;i1;</span></span></span></span></div><div class=\"line\"><span class=\"source glsl\"><span class=\"meta function c\"><span class=\"meta block c\"><span>&#xA0;</span></span></span></span></div><div class=\"line\"><span class=\"source glsl\"><span class=\"meta function c\"><span class=\"meta block c\"><span class=\"comment line double-slash c++\"><span class=\"punctuation definition comment c++\"><span>//</span></span><span>&#xA0;Permutations</span><span>&#xA0;</span></span></span></span></span></div><div class=\"line\"><span class=\"source glsl\"><span class=\"meta function c\"><span class=\"meta block c\"><span>&#xA0;&#xA0;i&#xA0;=</span><span class=\"meta function-call c\"><span class=\"punctuation whitespace function-call leading c\"><span>&#xA0;</span></span><span class=\"support function any-method c\"><span>mod289_1_0</span></span><span>(</span></span><span>i);&#xA0;</span><span class=\"comment line double-slash c++\"><span class=\"punctuation definition comment c++\"><span>//</span></span><span>&#xA0;Avoid&#xA0;truncation&#xA0;effects&#xA0;in&#xA0;permutation</span><span>&#xA0;</span></span></span></span></span></div><div class=\"line\"><span class=\"source glsl\"><span class=\"meta function c\"><span class=\"meta block c\"><span>&#xA0;&#xA0;</span><span class=\"storage type glsl\"><span>vec3</span></span><span>&#xA0;p&#xA0;=</span><span class=\"meta function-call c\"><span class=\"punctuation whitespace function-call leading c\"><span>&#xA0;</span></span><span class=\"support function any-method c\"><span>permute_1_1</span></span><span>(</span><span class=\"punctuation whitespace function-call leading c\"><span>&#xA0;</span></span><span class=\"support function any-method c\"><span>permute_1_1</span></span><span>(</span></span><span>&#xA0;i</span><span class=\"punctuation separator variable-access c\"><span>.</span></span><span class=\"variable other dot-access c\"><span>y</span></span><span>&#xA0;+</span><span class=\"meta function-call c\"><span class=\"punctuation whitespace function-call leading c\"><span>&#xA0;</span></span><span class=\"support function any-method c\"><span>vec3</span></span><span>(</span></span><span class=\"constant numeric c\"><span>0.0</span></span><span>,&#xA0;i1</span><span class=\"punctuation separator variable-access c\"><span>.</span></span><span class=\"variable other dot-access c\"><span>y</span></span><span>,&#xA0;</span><span class=\"constant numeric c\"><span>1.0</span></span><span>&#xA0;))</span></span></span></span></div><div class=\"line\"><span class=\"source glsl\"><span class=\"meta function c\"><span class=\"meta block c\"><span>&#xA0;&#xA0;&#xA0;&#xA0;+&#xA0;i</span><span class=\"punctuation separator variable-access c\"><span>.</span></span><span class=\"variable other dot-access c\"><span>x</span></span><span>&#xA0;+</span><span class=\"meta function-call c\"><span class=\"punctuation whitespace function-call leading c\"><span>&#xA0;</span></span><span class=\"support function any-method c\"><span>vec3</span></span><span>(</span></span><span class=\"constant numeric c\"><span>0.0</span></span><span>,&#xA0;i1</span><span class=\"punctuation separator variable-access c\"><span>.</span></span><span class=\"variable other dot-access c\"><span>x</span></span><span>,&#xA0;</span><span class=\"constant numeric c\"><span>1.0</span></span><span>&#xA0;));</span></span></span></span></div><div class=\"line\"><span class=\"source glsl\"><span class=\"meta function c\"><span class=\"meta block c\"><span>&#xA0;</span></span></span></span></div><div class=\"line\"><span class=\"source glsl\"><span class=\"meta function c\"><span class=\"meta block c\"><span>&#xA0;&#xA0;</span><span class=\"storage type glsl\"><span>vec3</span></span><span>&#xA0;m&#xA0;=</span><span class=\"meta function-call c\"><span class=\"punctuation whitespace function-call leading c\"><span>&#xA0;</span></span><span class=\"support function any-method c\"><span>max</span></span><span>(</span></span><span class=\"constant numeric c\"><span>0.5</span></span><span>&#xA0;-</span><span class=\"meta function-call c\"><span class=\"punctuation whitespace function-call leading c\"><span>&#xA0;</span></span><span class=\"support function any-method c\"><span>vec3</span></span><span>(</span><span class=\"support function any-method c\"><span>dot</span></span><span>(</span></span><span>x0,x0),</span><span class=\"meta function-call c\"><span class=\"punctuation whitespace function-call leading c\"><span>&#xA0;</span></span><span class=\"support function any-method c\"><span>dot</span></span><span>(</span></span><span>x12</span><span class=\"punctuation separator variable-access c\"><span>.</span></span><span class=\"variable other dot-access c\"><span>xy</span></span><span>,x12</span><span class=\"punctuation separator variable-access c\"><span>.</span></span><span class=\"variable other dot-access c\"><span>xy</span></span><span>),</span><span class=\"meta function-call c\"><span class=\"punctuation whitespace function-call leading c\"><span>&#xA0;</span></span><span class=\"support function any-method c\"><span>dot</span></span><span>(</span></span><span>x12</span><span class=\"punctuation separator variable-access c\"><span>.</span></span><span class=\"variable other dot-access c\"><span>zw</span></span><span>,x12</span><span class=\"punctuation separator variable-access c\"><span>.</span></span><span class=\"variable other dot-access c\"><span>zw</span></span><span>)),&#xA0;</span><span class=\"constant numeric c\"><span>0.0</span></span><span>);</span></span></span></span></div><div class=\"line\"><span class=\"source glsl\"><span class=\"meta function c\"><span class=\"meta block c\"><span>&#xA0;&#xA0;m&#xA0;=&#xA0;m*m&#xA0;;</span></span></span></span></div><div class=\"line\"><span class=\"source glsl\"><span class=\"meta function c\"><span class=\"meta block c\"><span>&#xA0;&#xA0;m&#xA0;=&#xA0;m*m&#xA0;;</span></span></span></span></div><div class=\"line\"><span class=\"source glsl\"><span class=\"meta function c\"><span class=\"meta block c\"><span>&#xA0;</span></span></span></span></div><div class=\"line\"><span class=\"source glsl\"><span class=\"meta function c\"><span class=\"meta block c\"><span class=\"comment line double-slash c++\"><span class=\"punctuation definition comment c++\"><span>//</span></span><span>&#xA0;Gradients:&#xA0;41&#xA0;points&#xA0;uniformly&#xA0;over&#xA0;a&#xA0;line,&#xA0;mapped&#xA0;onto&#xA0;a&#xA0;diamond.</span><span>&#xA0;</span></span></span></span></span></div><div class=\"line\"><span class=\"source glsl\"><span class=\"meta function c\"><span class=\"meta block c\"><span class=\"comment line double-slash c++\"><span class=\"punctuation definition comment c++\"><span>//</span></span><span>&#xA0;The&#xA0;ring&#xA0;size&#xA0;17*17&#xA0;=&#xA0;289&#xA0;is&#xA0;close&#xA0;to&#xA0;a&#xA0;multiple&#xA0;of&#xA0;41&#xA0;(41*7&#xA0;=&#xA0;287)</span><span>&#xA0;</span></span></span></span></span></div><div class=\"line\"><span class=\"source glsl\"><span class=\"meta function c\"><span class=\"meta block c\"><span>&#xA0;</span></span></span></span></div><div class=\"line\"><span class=\"source glsl\"><span class=\"meta function c\"><span class=\"meta block c\"><span>&#xA0;&#xA0;</span><span class=\"storage type glsl\"><span>vec3</span></span><span>&#xA0;x&#xA0;=&#xA0;</span><span class=\"constant numeric c\"><span>2.0</span></span><span>&#xA0;*</span><span class=\"meta function-call c\"><span class=\"punctuation whitespace function-call leading c\"><span>&#xA0;</span></span><span class=\"support function any-method c\"><span>fract</span></span><span>(</span></span><span>p&#xA0;*&#xA0;C</span><span class=\"punctuation separator variable-access c\"><span>.</span></span><span class=\"variable other dot-access c\"><span>www</span></span><span>)&#xA0;-&#xA0;</span><span class=\"constant numeric c\"><span>1.0</span></span><span>;</span></span></span></span></div><div class=\"line\"><span class=\"source glsl\"><span class=\"meta function c\"><span class=\"meta block c\"><span>&#xA0;&#xA0;</span><span class=\"storage type glsl\"><span>vec3</span></span><span>&#xA0;h&#xA0;=</span><span class=\"punctuation whitespace support function leading c\"><span>&#xA0;</span></span><span class=\"support function C99 c\"><span>abs</span></span><span>(x)&#xA0;-&#xA0;</span><span class=\"constant numeric c\"><span>0.5</span></span><span>;</span></span></span></span></div><div class=\"line\"><span class=\"source glsl\"><span class=\"meta function c\"><span class=\"meta block c\"><span>&#xA0;&#xA0;</span><span class=\"storage type glsl\"><span>vec3</span></span><span>&#xA0;ox&#xA0;=</span><span class=\"punctuation whitespace support function leading c\"><span>&#xA0;</span></span><span class=\"support function C99 c\"><span>floor</span></span><span>(x&#xA0;+&#xA0;</span><span class=\"constant numeric c\"><span>0.5</span></span><span>);</span></span></span></span></div><div class=\"line\"><span class=\"source glsl\"><span class=\"meta function c\"><span class=\"meta block c\"><span>&#xA0;&#xA0;</span><span class=\"storage type glsl\"><span>vec3</span></span><span>&#xA0;a0&#xA0;=&#xA0;x&#xA0;-&#xA0;ox;</span></span></span></span></div><div class=\"line\"><span class=\"source glsl\"><span class=\"meta function c\"><span class=\"meta block c\"><span>&#xA0;</span></span></span></span></div><div class=\"line\"><span class=\"source glsl\"><span class=\"meta function c\"><span class=\"meta block c\"><span class=\"comment line double-slash c++\"><span class=\"punctuation definition comment c++\"><span>//</span></span><span>&#xA0;Normalise&#xA0;gradients&#xA0;implicitly&#xA0;by&#xA0;scaling&#xA0;m</span><span>&#xA0;</span></span></span></span></span></div><div class=\"line\"><span class=\"source glsl\"><span class=\"meta function c\"><span class=\"meta block c\"><span class=\"comment line double-slash c++\"><span class=\"punctuation definition comment c++\"><span>//</span></span><span>&#xA0;Approximation&#xA0;of:&#xA0;m&#xA0;*=&#xA0;inversesqrt(&#xA0;a0*a0&#xA0;+&#xA0;h*h&#xA0;);</span><span>&#xA0;</span></span></span></span></span></div><div class=\"line\"><span class=\"source glsl\"><span class=\"meta function c\"><span class=\"meta block c\"><span>&#xA0;&#xA0;m&#xA0;*=&#xA0;</span><span class=\"constant numeric c\"><span>1.79284291400159</span></span><span>&#xA0;-&#xA0;</span><span class=\"constant numeric c\"><span>0.85373472095314</span></span><span>&#xA0;*&#xA0;(&#xA0;a0*a0&#xA0;+&#xA0;h*h&#xA0;);</span></span></span></span></div><div class=\"line\"><span class=\"source glsl\"><span class=\"meta function c\"><span class=\"meta block c\"><span>&#xA0;</span></span></span></span></div><div class=\"line\"><span class=\"source glsl\"><span class=\"meta function c\"><span class=\"meta block c\"><span class=\"comment line double-slash c++\"><span class=\"punctuation definition comment c++\"><span>//</span></span><span>&#xA0;Compute&#xA0;final&#xA0;noise&#xA0;value&#xA0;at&#xA0;P</span><span>&#xA0;</span></span></span></span></span></div><div class=\"line\"><span class=\"source glsl\"><span class=\"meta function c\"><span class=\"meta block c\"><span>&#xA0;&#xA0;</span><span class=\"storage type glsl\"><span>vec3</span></span><span>&#xA0;g;</span></span></span></span></div><div class=\"line\"><span class=\"source glsl\"><span class=\"meta function c\"><span class=\"meta block c\"><span>&#xA0;&#xA0;g</span><span class=\"punctuation separator variable-access c\"><span>.</span></span><span class=\"variable other dot-access c\"><span>x</span></span><span>&#xA0;&#xA0;=&#xA0;a0</span><span class=\"punctuation separator variable-access c\"><span>.</span></span><span class=\"variable other dot-access c\"><span>x</span></span><span>&#xA0;&#xA0;*&#xA0;x0</span><span class=\"punctuation separator variable-access c\"><span>.</span></span><span class=\"variable other dot-access c\"><span>x</span></span><span>&#xA0;&#xA0;+&#xA0;h</span><span class=\"punctuation separator variable-access c\"><span>.</span></span><span class=\"variable other dot-access c\"><span>x</span></span><span>&#xA0;&#xA0;*&#xA0;x0</span><span class=\"punctuation separator variable-access c\"><span>.</span></span><span class=\"variable other dot-access c\"><span>y</span></span><span>;</span></span></span></span></div><div class=\"line\"><span class=\"source glsl\"><span class=\"meta function c\"><span class=\"meta block c\"><span>&#xA0;&#xA0;g</span><span class=\"punctuation separator variable-access c\"><span>.</span></span><span class=\"variable other dot-access c\"><span>yz</span></span><span>&#xA0;=&#xA0;a0</span><span class=\"punctuation separator variable-access c\"><span>.</span></span><span class=\"variable other dot-access c\"><span>yz</span></span><span>&#xA0;*&#xA0;x12</span><span class=\"punctuation separator variable-access c\"><span>.</span></span><span class=\"variable other dot-access c\"><span>xz</span></span><span>&#xA0;+&#xA0;h</span><span class=\"punctuation separator variable-access c\"><span>.</span></span><span class=\"variable other dot-access c\"><span>yz</span></span><span>&#xA0;*&#xA0;x12</span><span class=\"punctuation separator variable-access c\"><span>.</span></span><span class=\"variable other dot-access c\"><span>yw</span></span><span>;</span></span></span></span></div><div class=\"line\"><span class=\"source glsl\"><span class=\"meta function c\"><span class=\"meta block c\"><span>&#xA0;&#xA0;</span><span class=\"keyword control glsl\"><span>return</span></span><span>&#xA0;</span><span class=\"constant numeric c\"><span>130.0</span></span><span>&#xA0;*</span><span class=\"meta function-call c\"><span class=\"punctuation whitespace function-call leading c\"><span>&#xA0;</span></span><span class=\"support function any-method c\"><span>dot</span></span><span>(</span></span><span>m,&#xA0;g);</span></span></span></span></div><div class=\"line\"><span class=\"source glsl\"><span class=\"meta function c\"><span class=\"meta block c\"><span class=\"punctuation section block end c\"><span>}</span></span></span></span></span></div><div class=\"line\"><span class=\"source glsl\"><span>&#xA0;</span></span></div><div class=\"line\"><span class=\"source glsl\"><span>&#xA0;</span></span></div><div class=\"line\"><span class=\"source glsl\"><span>&#xA0;</span></span></div><div class=\"line\"><span class=\"source glsl\"><span>&#xA0;</span></span></div><div class=\"line\"><span class=\"source glsl\"><span class=\"storage type glsl\"><span>void</span></span><span class=\"meta function c\"><span class=\"punctuation whitespace function leading c\"><span>&#xA0;</span></span><span class=\"entity name function c\"><span>main</span></span><span class=\"meta parens c\"><span class=\"punctuation section parens begin c\"><span>(</span></span><span class=\"punctuation section parens end c\"><span>)</span></span></span><span>&#xA0;</span><span class=\"meta block c\"><span class=\"punctuation section block begin c\"><span>{</span></span></span></span></span></div><div class=\"line\"><span class=\"source glsl\"><span class=\"meta function c\"><span class=\"meta block c\"><span>&#xA0;&#xA0;</span><span class=\"storage type glsl\"><span>float</span></span><span>&#xA0;brightness&#xA0;=</span><span class=\"meta function-call c\"><span class=\"punctuation whitespace function-call leading c\"><span>&#xA0;</span></span><span class=\"support function any-method c\"><span>snoise_1_2</span></span><span>(</span></span><span class=\"support variable glsl\"><span>gl_FragCoord</span></span><span class=\"punctuation separator variable-access c\"><span>.</span></span><span class=\"variable other dot-access c\"><span>xy</span></span><span>);</span></span></span></span></div><div class=\"line\"><span class=\"source glsl\"><span class=\"meta function c\"><span class=\"meta block c\"><span>&#xA0;</span></span></span></span></div><div class=\"line\"><span class=\"source glsl\"><span class=\"meta function c\"><span class=\"meta block c\"><span>&#xA0;&#xA0;</span><span class=\"support variable glsl\"><span>gl_FragColor</span></span><span>&#xA0;=</span><span class=\"meta function-call c\"><span class=\"punctuation whitespace function-call leading c\"><span>&#xA0;</span></span><span class=\"support function any-method c\"><span>vec4</span></span><span>(</span><span class=\"support function any-method c\"><span>vec3</span></span><span>(</span></span><span>brightness),&#xA0;</span><span class=\"constant numeric c\"><span>1</span></span><span>.);</span></span></span></span></div><div class=\"line\"><span class=\"source glsl\"><span class=\"meta function c\"><span class=\"meta block c\"><span class=\"punctuation section block end c\"><span>}</span></span></span></span></span></div>\n</code></pre>\n<h3 id=\"exporting-a-glsl-module\">Exporting a GLSL Module</h3>\n<p>You can export a token from a module using the <code>glslify: export</code>\npragma, like so:</p>\n<pre><code class=\"lang-glsl\"><div class=\"line\"><span class=\"source glsl\"><span class=\"storage type glsl\"><span>float</span></span><span class=\"meta function c\"><span class=\"punctuation whitespace function leading c\"><span>&#xA0;</span></span><span class=\"entity name function c\"><span>myFunction</span></span><span class=\"meta parens c\"><span class=\"punctuation section parens begin c\"><span>(</span></span><span class=\"storage type glsl\"><span>vec3</span></span><span>&#xA0;normal</span><span class=\"punctuation section parens end c\"><span>)</span></span></span><span>&#xA0;</span><span class=\"meta block c\"><span class=\"punctuation section block begin c\"><span>{</span></span></span></span></span></div><div class=\"line\"><span class=\"source glsl\"><span class=\"meta function c\"><span class=\"meta block c\"><span>&#xA0;&#xA0;</span><span class=\"keyword control glsl\"><span>return</span></span><span class=\"meta function-call c\"><span class=\"punctuation whitespace function-call leading c\"><span>&#xA0;</span></span><span class=\"support function any-method c\"><span>dot</span></span><span>(</span><span class=\"support function any-method c\"><span>vec3</span></span><span>(</span></span><span class=\"constant numeric c\"><span>0</span></span><span>,&#xA0;</span><span class=\"constant numeric c\"><span>1</span></span><span>,&#xA0;</span><span class=\"constant numeric c\"><span>0</span></span><span>),&#xA0;normal);</span></span></span></span></div><div class=\"line\"><span class=\"source glsl\"><span class=\"meta function c\"><span class=\"meta block c\"><span class=\"punctuation section block end c\"><span>}</span></span></span></span></span></div><div class=\"line\"><span class=\"source glsl\"><span>&#xA0;</span></span></div><div class=\"line\"><span class=\"source glsl\"><span>#</span><span class=\"meta preprocessor keyword import define glsl\"><span>pragma&#xA0;glslify:</span></span><span>&#xA0;</span><span class=\"keyword operator glsl\"><span>export</span></span><span>(</span><span class=\"entity name function glsl\"><span>myFunction</span></span><span>)</span><span>&#xA0;</span></span></div>\n</code></pre>\n<p>This means that when you import this module file elsewhere, you&apos;ll\nget <code>myFunction</code> in return:</p>\n<pre><code class=\"lang-glsl\"><div class=\"line\"><span class=\"source glsl\"><span>#</span><span class=\"meta preprocessor keyword import define glsl\"><span>pragma&#xA0;glslify:</span></span><span class=\"entity name function glsl\"><span>&#xA0;topDot&#xA0;</span></span><span class=\"operator glsl\"><span>=&#xA0;</span></span><span class=\"keyword operator glsl\"><span>require</span></span><span>(</span><span class=\"string quoted double\"><span>./my-function.glsl</span></span><span>)</span><span>&#xA0;</span></span></div><div class=\"line\"><span class=\"source glsl\"><span>&#xA0;</span></span></div><div class=\"line\"><span class=\"source glsl\"><span class=\"meta function c\"><span class=\"entity name function c\"><span>topDot</span></span><span class=\"meta parens c\"><span class=\"punctuation section parens begin c\"><span>(</span></span><span class=\"storage type glsl\"><span>vec3</span></span><span>(</span><span class=\"constant numeric c\"><span>0</span></span><span>,&#xA0;</span><span class=\"constant numeric c\"><span>1</span></span><span>,&#xA0;</span><span class=\"constant numeric c\"><span>0</span></span><span class=\"punctuation section parens end c\"><span>)</span></span></span><span>)</span><span>;</span></span><span>&#xA0;</span><span class=\"comment line double-slash c++\"><span class=\"punctuation definition comment c++\"><span>//</span></span><span>&#xA0;1</span><span>&#xA0;</span></span></span></div>\n</code></pre>\n<p>If you check the output shader source, you&apos;ll notice that variables\nhave been renamed to avoid conflicts between multiple shader files.</p>\n<p>You&apos;re not limited to exporting functions either: you should be able\nto export any GLSL token, such as a struct for reuse between your\nmodules:</p>\n<pre><code class=\"lang-glsl\"><div class=\"line\"><span class=\"source glsl\"><span class=\"storage type glsl\"><span>struct</span></span><span>&#xA0;Light&#xA0;</span><span class=\"meta block c\"><span class=\"punctuation section block begin c\"><span>{</span></span></span></span></div><div class=\"line\"><span class=\"source glsl\"><span class=\"meta block c\"><span>&#xA0;&#xA0;</span><span class=\"storage type glsl\"><span>vec3</span></span><span>&#xA0;position;</span></span></span></div><div class=\"line\"><span class=\"source glsl\"><span class=\"meta block c\"><span>&#xA0;&#xA0;</span><span class=\"storage type glsl\"><span>vec3</span></span><span>&#xA0;color;</span></span></span></div><div class=\"line\"><span class=\"source glsl\"><span class=\"meta block c\"><span class=\"punctuation section block end c\"><span>}</span></span></span><span>;</span></span></div><div class=\"line\"><span class=\"source glsl\"><span>&#xA0;</span></span></div><div class=\"line\"><span class=\"source glsl\"><span>#</span><span class=\"meta preprocessor keyword import define glsl\"><span>pragma&#xA0;glslify:</span></span><span>&#xA0;</span><span class=\"keyword operator glsl\"><span>export</span></span><span>(</span><span class=\"entity name function glsl\"><span>Light</span></span><span>)</span><span>&#xA0;</span></span></div>\n</code></pre>\n<h2 id=\"source-transforms\">Source Transforms</h2>\n<p>Source transforms are a feature inspired by browserify, allowing you to\nmodify your GLSL source at build time on a per-package basis. This is\nuseful both for transpilation (e.g. converting from or to\n<a href=\"http://en.wikipedia.org/wiki/High-Level_Shading_Language\">HLSL</a>) or for\nmaking incremental improvements to GLSL syntax. (e.g. you can use\n<a href=\"https://github.com/hughsk/glslify-hex\">glslify-hex</a> to include CSS-style\nhex strings for colors in place of <code>vec3</code>s).</p>\n<p>There are three kinds of source transform:</p>\n<ul>\n<li><strong>Local transforms</strong>, the default. These are applied per-file, and only\napplied to a single package. If you&apos;re defining it via the CLI using <code>-t</code>\nit&apos;ll only apply itself to files outside of <code>node_modules</code>, but you\ncan include it in <code>package.json</code> too: these will be applied only to that\npackage without interfering with any of the package&apos;s parents or children.</li>\n<li><strong>Global transforms</strong> are applied after local transforms to every file,\nregardless of whether or not it&apos;s a dependency.</li>\n<li><strong>Post transforms</strong> are applied to the entire output file once it&apos;s been\nbundled. Generally, you want to reserve this for very specific use cases\nsuch as whole-shader optimisation.</li>\n</ul>\n<p>There are a number of ways to use a transform. Start by\ninstalling it in your project:</p>\n<pre><code class=\"lang-bash\"><div class=\"line\"><span class=\"source shell\"><span>npm&#xA0;install&#xA0;--save&#xA0;glslify-hex</span></span></div>\n</code></pre>\n<p>The preferred way to enable a transform is through your project&apos;s\n<code>package.json</code> file&apos;s <code>glslify.transform</code> property, like so:</p>\n<pre><code class=\"lang-json\"><div class=\"line\"><span class=\"source json\"><span class=\"meta structure dictionary json\"><span class=\"punctuation definition dictionary begin json\"><span>{</span></span></span></span></div><div class=\"line\"><span class=\"source json\"><span class=\"meta structure dictionary json\"><span>&#xA0;&#xA0;</span><span class=\"string quoted double json\"><span class=\"punctuation definition string begin json\"><span>&quot;</span></span><span>name</span><span class=\"punctuation definition string end json\"><span>&quot;</span></span></span><span class=\"meta structure dictionary value json\"><span class=\"punctuation separator dictionary key-value json\"><span>:</span></span><span>&#xA0;</span><span class=\"string quoted double json\"><span class=\"punctuation definition string begin json\"><span>&quot;</span></span><span>my-project</span><span class=\"punctuation definition string end json\"><span>&quot;</span></span></span><span class=\"punctuation separator dictionary pair json\"><span>,</span></span></span></span></span></div><div class=\"line\"><span class=\"source json\"><span class=\"meta structure dictionary json\"><span>&#xA0;&#xA0;</span><span class=\"string quoted double json\"><span class=\"punctuation definition string begin json\"><span>&quot;</span></span><span>dependencies</span><span class=\"punctuation definition string end json\"><span>&quot;</span></span></span><span class=\"meta structure dictionary value json\"><span class=\"punctuation separator dictionary key-value json\"><span>:</span></span><span>&#xA0;</span><span class=\"meta structure dictionary json\"><span class=\"punctuation definition dictionary begin json\"><span>{</span></span></span></span></span></span></div><div class=\"line\"><span class=\"source json\"><span class=\"meta structure dictionary json\"><span class=\"meta structure dictionary value json\"><span class=\"meta structure dictionary json\"><span>&#xA0;&#xA0;&#xA0;&#xA0;</span><span class=\"string quoted double json\"><span class=\"punctuation definition string begin json\"><span>&quot;</span></span><span>glslify-hex</span><span class=\"punctuation definition string end json\"><span>&quot;</span></span></span><span class=\"meta structure dictionary value json\"><span class=\"punctuation separator dictionary key-value json\"><span>:</span></span><span>&#xA0;</span><span class=\"string quoted double json\"><span class=\"punctuation definition string begin json\"><span>&quot;</span></span><span>^2.0.0</span><span class=\"punctuation definition string end json\"><span>&quot;</span></span></span><span class=\"punctuation separator dictionary pair json\"><span>,</span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source json\"><span class=\"meta structure dictionary json\"><span class=\"meta structure dictionary value json\"><span class=\"meta structure dictionary json\"><span>&#xA0;&#xA0;&#xA0;&#xA0;</span><span class=\"string quoted double json\"><span class=\"punctuation definition string begin json\"><span>&quot;</span></span><span>glslify</span><span class=\"punctuation definition string end json\"><span>&quot;</span></span></span><span class=\"meta structure dictionary value json\"><span class=\"punctuation separator dictionary key-value json\"><span>:</span></span><span>&#xA0;</span><span class=\"string quoted double json\"><span class=\"punctuation definition string begin json\"><span>&quot;</span></span><span>^2.0.0</span><span class=\"punctuation definition string end json\"><span>&quot;</span></span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source json\"><span class=\"meta structure dictionary json\"><span class=\"meta structure dictionary value json\"><span class=\"meta structure dictionary json\"><span class=\"meta structure dictionary value json\"><span>&#xA0;&#xA0;</span></span><span class=\"punctuation definition dictionary end json\"><span>}</span></span></span><span class=\"punctuation separator dictionary pair json\"><span>,</span></span></span></span></span></div><div class=\"line\"><span class=\"source json\"><span class=\"meta structure dictionary json\"><span>&#xA0;&#xA0;</span><span class=\"string quoted double json\"><span class=\"punctuation definition string begin json\"><span>&quot;</span></span><span>glslify</span><span class=\"punctuation definition string end json\"><span>&quot;</span></span></span><span class=\"meta structure dictionary value json\"><span class=\"punctuation separator dictionary key-value json\"><span>:</span></span><span>&#xA0;</span><span class=\"meta structure dictionary json\"><span class=\"punctuation definition dictionary begin json\"><span>{</span></span></span></span></span></span></div><div class=\"line\"><span class=\"source json\"><span class=\"meta structure dictionary json\"><span class=\"meta structure dictionary value json\"><span class=\"meta structure dictionary json\"><span>&#xA0;&#xA0;&#xA0;&#xA0;</span><span class=\"string quoted double json\"><span class=\"punctuation definition string begin json\"><span>&quot;</span></span><span>transform</span><span class=\"punctuation definition string end json\"><span>&quot;</span></span></span><span class=\"meta structure dictionary value json\"><span class=\"punctuation separator dictionary key-value json\"><span>:</span></span><span>&#xA0;</span><span class=\"meta structure array json\"><span class=\"punctuation definition array begin json\"><span>[</span></span><span class=\"string quoted double json\"><span class=\"punctuation definition string begin json\"><span>&quot;</span></span><span>glslify-hex</span><span class=\"punctuation definition string end json\"><span>&quot;</span></span></span><span class=\"punctuation definition array end json\"><span>]</span></span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source json\"><span class=\"meta structure dictionary json\"><span class=\"meta structure dictionary value json\"><span class=\"meta structure dictionary json\"><span class=\"meta structure dictionary value json\"><span>&#xA0;&#xA0;</span></span><span class=\"punctuation definition dictionary end json\"><span>}</span></span></span></span></span></span></div><div class=\"line\"><span class=\"source json\"><span class=\"meta structure dictionary json\"><span class=\"punctuation definition dictionary end json\"><span>}</span></span></span></span></div>\n</code></pre>\n<p>You may also include arguments to your transform as you would\nwith browserify:</p>\n<pre><code class=\"lang-json\"><div class=\"line\"><span class=\"source json\"><span class=\"meta structure dictionary json\"><span class=\"punctuation definition dictionary begin json\"><span>{</span></span></span></span></div><div class=\"line\"><span class=\"source json\"><span class=\"meta structure dictionary json\"><span>&#xA0;&#xA0;</span><span class=\"string quoted double json\"><span class=\"punctuation definition string begin json\"><span>&quot;</span></span><span>name</span><span class=\"punctuation definition string end json\"><span>&quot;</span></span></span><span class=\"meta structure dictionary value json\"><span class=\"punctuation separator dictionary key-value json\"><span>:</span></span><span>&#xA0;</span><span class=\"string quoted double json\"><span class=\"punctuation definition string begin json\"><span>&quot;</span></span><span>my-project</span><span class=\"punctuation definition string end json\"><span>&quot;</span></span></span><span class=\"punctuation separator dictionary pair json\"><span>,</span></span></span></span></span></div><div class=\"line\"><span class=\"source json\"><span class=\"meta structure dictionary json\"><span>&#xA0;&#xA0;</span><span class=\"string quoted double json\"><span class=\"punctuation definition string begin json\"><span>&quot;</span></span><span>dependencies</span><span class=\"punctuation definition string end json\"><span>&quot;</span></span></span><span class=\"meta structure dictionary value json\"><span class=\"punctuation separator dictionary key-value json\"><span>:</span></span><span>&#xA0;</span><span class=\"meta structure dictionary json\"><span class=\"punctuation definition dictionary begin json\"><span>{</span></span></span></span></span></span></div><div class=\"line\"><span class=\"source json\"><span class=\"meta structure dictionary json\"><span class=\"meta structure dictionary value json\"><span class=\"meta structure dictionary json\"><span>&#xA0;&#xA0;&#xA0;&#xA0;</span><span class=\"string quoted double json\"><span class=\"punctuation definition string begin json\"><span>&quot;</span></span><span>glslify-hex</span><span class=\"punctuation definition string end json\"><span>&quot;</span></span></span><span class=\"meta structure dictionary value json\"><span class=\"punctuation separator dictionary key-value json\"><span>:</span></span><span>&#xA0;</span><span class=\"string quoted double json\"><span class=\"punctuation definition string begin json\"><span>&quot;</span></span><span>^2.0.0</span><span class=\"punctuation definition string end json\"><span>&quot;</span></span></span><span class=\"punctuation separator dictionary pair json\"><span>,</span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source json\"><span class=\"meta structure dictionary json\"><span class=\"meta structure dictionary value json\"><span class=\"meta structure dictionary json\"><span>&#xA0;&#xA0;&#xA0;&#xA0;</span><span class=\"string quoted double json\"><span class=\"punctuation definition string begin json\"><span>&quot;</span></span><span>glslify</span><span class=\"punctuation definition string end json\"><span>&quot;</span></span></span><span class=\"meta structure dictionary value json\"><span class=\"punctuation separator dictionary key-value json\"><span>:</span></span><span>&#xA0;</span><span class=\"string quoted double json\"><span class=\"punctuation definition string begin json\"><span>&quot;</span></span><span>^2.0.0</span><span class=\"punctuation definition string end json\"><span>&quot;</span></span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source json\"><span class=\"meta structure dictionary json\"><span class=\"meta structure dictionary value json\"><span class=\"meta structure dictionary json\"><span class=\"meta structure dictionary value json\"><span>&#xA0;&#xA0;</span></span><span class=\"punctuation definition dictionary end json\"><span>}</span></span></span><span class=\"punctuation separator dictionary pair json\"><span>,</span></span></span></span></span></div><div class=\"line\"><span class=\"source json\"><span class=\"meta structure dictionary json\"><span>&#xA0;&#xA0;</span><span class=\"string quoted double json\"><span class=\"punctuation definition string begin json\"><span>&quot;</span></span><span>glslify</span><span class=\"punctuation definition string end json\"><span>&quot;</span></span></span><span class=\"meta structure dictionary value json\"><span class=\"punctuation separator dictionary key-value json\"><span>:</span></span><span>&#xA0;</span><span class=\"meta structure dictionary json\"><span class=\"punctuation definition dictionary begin json\"><span>{</span></span></span></span></span></span></div><div class=\"line\"><span class=\"source json\"><span class=\"meta structure dictionary json\"><span class=\"meta structure dictionary value json\"><span class=\"meta structure dictionary json\"><span>&#xA0;&#xA0;&#xA0;&#xA0;</span><span class=\"string quoted double json\"><span class=\"punctuation definition string begin json\"><span>&quot;</span></span><span>transform</span><span class=\"punctuation definition string end json\"><span>&quot;</span></span></span><span class=\"meta structure dictionary value json\"><span class=\"punctuation separator dictionary key-value json\"><span>:</span></span><span>&#xA0;</span><span class=\"meta structure array json\"><span class=\"punctuation definition array begin json\"><span>[</span></span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source json\"><span class=\"meta structure dictionary json\"><span class=\"meta structure dictionary value json\"><span class=\"meta structure dictionary json\"><span class=\"meta structure dictionary value json\"><span class=\"meta structure array json\"><span>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</span><span class=\"meta structure array json\"><span class=\"punctuation definition array begin json\"><span>[</span></span><span class=\"string quoted double json\"><span class=\"punctuation definition string begin json\"><span>&quot;</span></span><span>glslify-hex</span><span class=\"punctuation definition string end json\"><span>&quot;</span></span></span><span class=\"punctuation separator array json\"><span>,</span></span><span>&#xA0;</span><span class=\"meta structure dictionary json\"><span class=\"punctuation definition dictionary begin json\"><span>{</span></span></span></span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source json\"><span class=\"meta structure dictionary json\"><span class=\"meta structure dictionary value json\"><span class=\"meta structure dictionary json\"><span class=\"meta structure dictionary value json\"><span class=\"meta structure array json\"><span class=\"meta structure array json\"><span class=\"meta structure dictionary json\"><span>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</span><span class=\"string quoted double json\"><span class=\"punctuation definition string begin json\"><span>&quot;</span></span><span>option-1</span><span class=\"punctuation definition string end json\"><span>&quot;</span></span></span><span class=\"meta structure dictionary value json\"><span class=\"punctuation separator dictionary key-value json\"><span>:</span></span><span>&#xA0;</span><span class=\"constant language json\"><span>true</span></span><span class=\"punctuation separator dictionary pair json\"><span>,</span></span></span></span></span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source json\"><span class=\"meta structure dictionary json\"><span class=\"meta structure dictionary value json\"><span class=\"meta structure dictionary json\"><span class=\"meta structure dictionary value json\"><span class=\"meta structure array json\"><span class=\"meta structure array json\"><span class=\"meta structure dictionary json\"><span>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</span><span class=\"string quoted double json\"><span class=\"punctuation definition string begin json\"><span>&quot;</span></span><span>option-2</span><span class=\"punctuation definition string end json\"><span>&quot;</span></span></span><span class=\"meta structure dictionary value json\"><span class=\"punctuation separator dictionary key-value json\"><span>:</span></span><span>&#xA0;</span><span class=\"constant numeric json\"><span>42</span></span></span></span></span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source json\"><span class=\"meta structure dictionary json\"><span class=\"meta structure dictionary value json\"><span class=\"meta structure dictionary json\"><span class=\"meta structure dictionary value json\"><span class=\"meta structure array json\"><span class=\"meta structure array json\"><span class=\"meta structure dictionary json\"><span class=\"meta structure dictionary value json\"><span>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</span></span><span class=\"punctuation definition dictionary end json\"><span>}</span></span></span><span class=\"punctuation definition array end json\"><span>]</span></span></span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source json\"><span class=\"meta structure dictionary json\"><span class=\"meta structure dictionary value json\"><span class=\"meta structure dictionary json\"><span class=\"meta structure dictionary value json\"><span class=\"meta structure array json\"><span>&#xA0;&#xA0;&#xA0;&#xA0;</span><span class=\"punctuation definition array end json\"><span>]</span></span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source json\"><span class=\"meta structure dictionary json\"><span class=\"meta structure dictionary value json\"><span class=\"meta structure dictionary json\"><span class=\"meta structure dictionary value json\"><span>&#xA0;&#xA0;</span></span><span class=\"punctuation definition dictionary end json\"><span>}</span></span></span></span></span></span></div><div class=\"line\"><span class=\"source json\"><span class=\"meta structure dictionary json\"><span class=\"punctuation definition dictionary end json\"><span>}</span></span></span></span></div>\n</code></pre>\n<p>Note that this method is only available for local transforms.</p>\n<p>You may also specify transforms via the CLI:</p>\n<pre><code class=\"lang-bash\"><div class=\"line\"><span class=\"source shell\"><span>glslify&#xA0;-t&#xA0;</span><span class=\"string quoted single shell\"><span class=\"punctuation definition string begin shell\"><span>&apos;</span></span><span>local-transform</span><span class=\"punctuation definition string end shell\"><span>&apos;</span></span></span><span>&#xA0;-g&#xA0;</span><span class=\"string quoted single shell\"><span class=\"punctuation definition string begin shell\"><span>&apos;</span></span><span>global-transform</span><span class=\"punctuation definition string end shell\"><span>&apos;</span></span></span><span>&#xA0;-p&#xA0;</span><span class=\"string quoted single shell\"><span class=\"punctuation definition string begin shell\"><span>&apos;</span></span><span>post-transform</span><span class=\"punctuation definition string end shell\"><span>&apos;</span></span></span></span></div>\n</code></pre>\n<p>Or when using the browserify transform by including them as\noptions like so:</p>\n<pre><code class=\"lang-javascript\"><div class=\"line\"><span class=\"source js\"><span class=\"storage modifier js\"><span>var</span></span><span>&#xA0;glslify&#xA0;</span><span class=\"keyword operator assignment js\"><span>=</span></span><span>&#xA0;</span><span class=\"support function js\"><span>require</span></span><span class=\"meta brace round js\"><span>(</span></span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&apos;</span></span><span>glslify</span><span class=\"punctuation definition string end js\"><span>&apos;</span></span></span><span class=\"meta brace round js\"><span>)</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;</span></span></div><div class=\"line\"><span class=\"source js\"><span>glslify</span><span class=\"meta brace round js\"><span>(</span></span><span class=\"support variable js\"><span>__dirname</span></span><span>&#xA0;</span><span class=\"keyword operator js\"><span>+</span></span><span>&#xA0;</span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&apos;</span></span><span>/shader.glsl</span><span class=\"punctuation definition string end js\"><span>&apos;</span></span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;</span><span class=\"meta brace curly js\"><span>{</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;transform</span><span class=\"keyword operator js\"><span>:</span></span><span>&#xA0;</span><span class=\"meta brace square js\"><span>[</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;&#xA0;&#xA0;</span><span class=\"meta brace square js\"><span>[</span></span><span class=\"string quoted double js\"><span class=\"punctuation definition string begin js\"><span>&quot;</span></span><span>glslify-hex</span><span class=\"punctuation definition string end js\"><span>&quot;</span></span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;</span><span class=\"meta brace curly js\"><span>{</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</span><span class=\"string quoted double js\"><span class=\"punctuation definition string begin js\"><span>&quot;</span></span><span>option-1</span><span class=\"punctuation definition string end js\"><span>&quot;</span></span></span><span class=\"keyword operator js\"><span>:</span></span><span>&#xA0;</span><span class=\"constant language boolean true js\"><span>true</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</span><span class=\"string quoted double js\"><span class=\"punctuation definition string begin js\"><span>&quot;</span></span><span>option-2</span><span class=\"punctuation definition string end js\"><span>&quot;</span></span></span><span class=\"keyword operator js\"><span>:</span></span><span>&#xA0;</span><span class=\"constant numeric js\"><span>42</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;&#xA0;&#xA0;</span><span class=\"meta brace curly js\"><span>}</span></span><span class=\"meta brace square js\"><span>]</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;&#xA0;&#xA0;</span><span class=\"meta brace square js\"><span>[</span></span><span class=\"string quoted double js\"><span class=\"punctuation definition string begin js\"><span>&quot;</span></span><span>global-transform</span><span class=\"punctuation definition string end js\"><span>&quot;</span></span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;</span><span class=\"meta brace curly js\"><span>{</span></span><span>&#xA0;global</span><span class=\"keyword operator js\"><span>:</span></span><span>&#xA0;</span><span class=\"constant language boolean true js\"><span>true</span></span><span>&#xA0;</span><span class=\"meta brace curly js\"><span>}</span></span><span class=\"meta brace square js\"><span>]</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;&#xA0;&#xA0;</span><span class=\"meta brace square js\"><span>[</span></span><span class=\"string quoted double js\"><span class=\"punctuation definition string begin js\"><span>&quot;</span></span><span>post-transform</span><span class=\"punctuation definition string end js\"><span>&quot;</span></span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;</span><span class=\"meta brace curly js\"><span>{</span></span><span>&#xA0;post</span><span class=\"keyword operator js\"><span>:</span></span><span>&#xA0;</span><span class=\"constant language boolean true js\"><span>true</span></span><span>&#xA0;</span><span class=\"meta brace curly js\"><span>}</span></span><span class=\"meta brace square js\"><span>]</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;</span><span class=\"meta brace square js\"><span>]</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta brace curly js\"><span>}</span></span><span class=\"meta brace round js\"><span>)</span></span></span></div>\n</code></pre>\n<h2 id=\"migrating-from-glslify-1-to-glslify-2\">Migrating from glslify@1 to glslify@2</h2>\n<p>There are two important changes to note:</p>\n<ul>\n<li><a href=\"http://github.com/stackgl/gl-shader\">gl-shader</a> is no longer bundled in with\nglslify&apos;s browserify transform.</li>\n<li>glslify now accepts files individually, rather than frag/vert pairings.</li>\n</ul>\n<p>The following:</p>\n<pre><code class=\"lang-javascript\"><div class=\"line\"><span class=\"source js\"><span class=\"storage modifier js\"><span>var</span></span><span>&#xA0;glslify&#xA0;</span><span class=\"keyword operator assignment js\"><span>=</span></span><span>&#xA0;</span><span class=\"support function js\"><span>require</span></span><span class=\"meta brace round js\"><span>(</span></span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&apos;</span></span><span>glslify</span><span class=\"punctuation definition string end js\"><span>&apos;</span></span></span><span class=\"meta brace round js\"><span>)</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;</span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"storage modifier js\"><span>var</span></span><span>&#xA0;shader&#xA0;</span><span class=\"keyword operator assignment js\"><span>=</span></span><span>&#xA0;glslify</span><span class=\"meta brace round js\"><span>(</span></span><span class=\"meta brace curly js\"><span>{</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;frag</span><span class=\"keyword operator js\"><span>:</span></span><span>&#xA0;</span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&apos;</span></span><span>./shader.frag</span><span class=\"punctuation definition string end js\"><span>&apos;</span></span></span><span class=\"meta delimiter object comma js\"><span>,</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;vert</span><span class=\"keyword operator js\"><span>:</span></span><span>&#xA0;</span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&apos;</span></span><span>./shader.vert</span><span class=\"punctuation definition string end js\"><span>&apos;</span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta brace curly js\"><span>}</span></span><span class=\"meta brace round js\"><span>)</span><span>(</span></span><span>gl</span><span class=\"meta brace round js\"><span>)</span></span></span></div>\n</code></pre>\n<p>Should now be created like so:</p>\n<pre><code class=\"lang-javascript\"><div class=\"line\"><span class=\"source js\"><span class=\"storage modifier js\"><span>var</span></span><span>&#xA0;glShader&#xA0;</span><span class=\"keyword operator assignment js\"><span>=</span></span><span>&#xA0;</span><span class=\"support function js\"><span>require</span></span><span class=\"meta brace round js\"><span>(</span></span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&apos;</span></span><span>gl-shader</span><span class=\"punctuation definition string end js\"><span>&apos;</span></span></span><span class=\"meta brace round js\"><span>)</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"storage modifier js\"><span>var</span></span><span>&#xA0;glslify&#xA0;&#xA0;</span><span class=\"keyword operator assignment js\"><span>=</span></span><span>&#xA0;</span><span class=\"support function js\"><span>require</span></span><span class=\"meta brace round js\"><span>(</span></span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&apos;</span></span><span>glslify</span><span class=\"punctuation definition string end js\"><span>&apos;</span></span></span><span class=\"meta brace round js\"><span>)</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;</span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"storage modifier js\"><span>var</span></span><span>&#xA0;shader&#xA0;</span><span class=\"keyword operator assignment js\"><span>=</span></span><span>&#xA0;glShader</span><span class=\"meta brace round js\"><span>(</span></span><span>gl</span><span class=\"meta delimiter object comma js\"><span>,</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;glslify</span><span class=\"meta brace round js\"><span>(</span></span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&apos;</span></span><span>./shader.vert</span><span class=\"punctuation definition string end js\"><span>&apos;</span></span></span><span class=\"meta brace round js\"><span>)</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;glslify</span><span class=\"meta brace round js\"><span>(</span></span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&apos;</span></span><span>./shader.frag</span><span class=\"punctuation definition string end js\"><span>&apos;</span></span></span><span class=\"meta brace round js\"><span>)</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta brace round js\"><span>)</span></span></span></div>\n</code></pre>\n<h2 id=\"module-api\">Module API</h2>\n<p>You can use glslify from Node using <code>glslify.bundle</code>. The operation is\nperformed asynchronously, but otherwise it shares the same API as\nglslify&apos;s browserify transform.</p>\n<h3 id=\"-glslify-bundle-file-opts-done-\"><code>glslify.bundle(file, opts, done)</code></h3>\n<p>Takes a <code>file</code> and calls <code>done(err, source, files)</code> with the finished shader\nwhen complete. <code>files</code> is an array of all the files required from the\ndependency tree, including the entry file.</p>\n<p>Options include:</p>\n<ul>\n<li><code>inline</code>: if set to true, you can pass the GLSL source directly in\nplace of the <code>file</code> argument.</li>\n<li><code>transform</code>: an array of transforms to apply to the shader.</li>\n<li><code>basedir</code>: the directory from which to resolve modules from in your\nfirst shader. Defaults to the first file&apos;s directory, or <code>process.cwd()</code>\nif inline mode is enabled.</li>\n</ul>\n<h2 id=\"further-reading\">Further Reading</h2>\n<ul>\n<li><a href=\"http://stack.gl/packages/\">stack.gl Packages List</a> (see &quot;Shader Components&quot;).</li>\n<li><a href=\"http://mattdesl.svbtle.com/glslify\">Modular and Versioned GLSL</a> by <a href=\"http://mattdesl.svbtle.com/\">@mattdesl</a>.</li>\n<li><a href=\"https://github.com/mattdesl/module-best-practices\">Module Best Practices</a> by <a href=\"http://mattdesl.svbtle.com/\">@mattdesl</a>.</li>\n<li><a href=\"https://github.com/maxogden/art-of-node\">Art of Node</a> by <a href=\"http://github.com/maxogden\">@maxogden</a>.</li>\n<li><a href=\"https://github.com/substack/browserify-handbook\">Browserify Handbook</a> by <a href=\"http://substack.net\">@substack</a>.</li>\n<li><a href=\"http://www.amazon.com/WebGL-Insights-Patrick-Cozzi/dp/1498716075\">WebGL Insights</a> includes a chapter introducing glslify in detail.</li>\n<li><a href=\"http://github.com/stackgl/shader-school\">Shader School</a> by <a href=\"http://github.com/mikolalysenko\">@mikolalysenko</a>, <a href=\"http://github.com/chrisdickinson\">chrisdickinson</a> and <a href=\"http://github.com/hughskennedy\">@hughskennedy</a>.</li>\n<li><a href=\"http://patriciogonzalezvivo.com/2015/thebookofshaders/\">Book of Shaders</a> by <a href=\"http://patriciogonzalezvivo.com/\">Patricio Gonzalez Vivo</a>.</li>\n</ul>\n<h2 id=\"contributing\">Contributing</h2>\n<p>See <a href=\"https://github.com/stackgl/contributing\">stackgl/contributing</a> for details.</p>\n<h2 id=\"license\">License</h2>\n<p>MIT. See <a href=\"http://github.com/stackgl/glslify/blob/master/LICENSE.md\">LICENSE.md</a> for details.</p>\n"}