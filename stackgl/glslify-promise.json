{"readme":"<h1 class=\"title\"><a target=\"_blank\" href=\"https://github.com/stackgl/glslify-promise\">glslify-promise</a><div class=\"contrib\"></div></h1>\n<p><a href=\"http://github.com/badges/stability-badges\"></a></p>\n<p>A Promise wrapper for glslify, providing a consistent interface between both <a href=\"http://nodejs.org/\">Node.js</a> and\n<a href=\"http://browserify.org/\">browserify</a>.</p>\n<p>Intended for use with <a href=\"http://github.com/vorg/pex\">Pex</a>.</p>\n<h2 id=\"usage\">Usage</h2>\n<p><a href=\"https://nodei.co/npm/glslify-promise/\"></a></p>\n<h3 id=\"promise-glslify-file-options-\"><code>promise = glslify(file, [options])</code></h3>\n<p>Where <code>file</code> and <code>options</code> accept the same arguments as\nthe <a href=\"http://github.com/stackgl/glslify\">glslify</a> package.</p>\n<p>For example, the following should work out of the box with Node:</p>\n<pre><code class=\"lang-javascript\"><div class=\"line\"><span class=\"source js\"><span>var&#xA0;glslify&#xA0;=&#xA0;require(&apos;glslify-promise&apos;)</span></span></div><div class=\"line\"><span class=\"source js\"><span>var&#xA0;promise&#xA0;=&#xA0;glslify(__dirname&#xA0;+&#xA0;&apos;/shader.glsl&apos;)</span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;</span></span></div><div class=\"line\"><span class=\"source js\"><span>promise.then(function(source)&#xA0;{</span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;console.log(source)&#xA0;//&#xA0;your&#xA0;glslified&#xA0;GLSL&#xA0;source!</span></span></div><div class=\"line\"><span class=\"source js\"><span>})</span></span></div>\n</code></pre>\n<p>By adding <code>glslify-promise/transform</code> to your <code>package.json</code>\nfile, you should be able to do the same in browserify too:</p>\n<pre><code class=\"lang-json\"><div class=\"line\"><span class=\"source json\"><span>{</span></span></div><div class=\"line\"><span class=\"source json\"><span>&#xA0;&#xA0;&quot;browserify&quot;:&#xA0;{</span></span></div><div class=\"line\"><span class=\"source json\"><span>&#xA0;&#xA0;&#xA0;&#xA0;&quot;transform&quot;:&#xA0;[</span></span></div><div class=\"line\"><span class=\"source json\"><span>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&quot;glslify-pex/transform&quot;</span></span></div><div class=\"line\"><span class=\"source json\"><span>&#xA0;&#xA0;&#xA0;&#xA0;]</span></span></div><div class=\"line\"><span class=\"source json\"><span>&#xA0;&#xA0;}</span></span></div><div class=\"line\"><span class=\"source json\"><span>}</span></span></div>\n</code></pre>\n<p>Note that like <a href=\"http://github.com/stackgl/glslify\">glslify</a>\nand <a href=\"http://github.com/substack/brfs\">brfs</a> file paths need\nto be statically determinable, meaning that you can&apos;t use\nvariables in your require statements. The\nfollowing script would produce an error when running with\nbrowserify:</p>\n<pre><code class=\"lang-javascript\"><div class=\"line\"><span class=\"source js\"><span>var&#xA0;glslify&#xA0;&#xA0;=&#xA0;require(&apos;glslify&apos;)</span></span></div><div class=\"line\"><span class=\"source js\"><span>var&#xA0;filename&#xA0;=&#xA0;__dirname&#xA0;+&#xA0;&apos;/shader.glsl&apos;</span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;</span></span></div><div class=\"line\"><span class=\"source js\"><span>var&#xA0;promise&#xA0;=&#xA0;glslify(filename)</span></span></div>\n</code></pre>\n<p>Whereas the following is still valid:</p>\n<pre><code class=\"lang-javascript\"><div class=\"line\"><span class=\"source js\"><span>var&#xA0;glslify&#xA0;=&#xA0;require(&apos;glslify&apos;)</span></span></div><div class=\"line\"><span class=\"source js\"><span>var&#xA0;promise&#xA0;=&#xA0;glslify(__dirname&#xA0;+&#xA0;&apos;/shader.glsl&apos;)</span></span></div>\n</code></pre>\n<p>Also note that this package is using the native <code>Promise</code> global.\nFor cross-browser compatibility you&apos;ll want to include the\n<a href=\"http://ghub.io/es6-promise\">es6-promise</a> polyfill.</p>\n<h2 id=\"contributing\">Contributing</h2>\n<p>See <a href=\"https://github.com/stackgl/contributing\">stackgl/contributing</a> for details.</p>\n<h2 id=\"license\">License</h2>\n<p>MIT. See <a href=\"http://github.com/stackgl/glslify-promise/blob/master/LICENSE.md\">LICENSE.md</a> for details.</p>\n"}