{"readme":"<h1 class=\"title\"><a target=\"_blank\" href=\"https://github.com/kevzettler/gl-swept-sphere-triangle\">GL Matrix swept sphere triangle collision</a><div class=\"contrib\"></div></h1>\n<p>This code is is a reproduction of <a href=\"https://gist.github.com/toji/2802287\">a gist from the creator of gl-matrix</a>. This code implements a ellipsoid space swepth sphere collision detction algoritim from the paper <a href=\"http://www.peroxide.dk/papers/collision/collision.pdf\">&quot;Improved Collision detection and Response&quot; by Kasper Fauerby</a></p>\n<h2 id=\"install\">Install</h2>\n<pre><code>npm install gl-swept-sphere-triangle\n</code></pre><h2 id=\"example\">Example</h2>\n<pre><code class=\"lang-javascript\"><div class=\"line\"><span class=\"source js\"><span>import&#xA0;{&#xA0;traceSphereTriangle,&#xA0;TraceInfo&#xA0;}&#xA0;from&#xA0;&apos;gl-swept-sphere-triangle&apos;;</span></span></div><div class=\"line\"><span class=\"source js\"><span>var&#xA0;traceInfo&#xA0;=&#xA0;new&#xA0;TraceInfo();</span></span></div><div class=\"line\"><span class=\"source js\"><span>var&#xA0;startPoint&#xA0;=&#xA0;[-10,&#xA0;0,&#xA0;0];</span></span></div><div class=\"line\"><span class=\"source js\"><span>var&#xA0;endPoint&#xA0;=&#xA0;[10,&#xA0;0,&#xA0;0];</span></span></div><div class=\"line\"><span class=\"source js\"><span>var&#xA0;radius&#xA0;=&#xA0;0.5;</span></span></div><div class=\"line\"><span class=\"source js\"><span>//&#xA0;Tracing&#xA0;a&#xA0;0.5&#xA0;radius&#xA0;sphere&#xA0;moving&#xA0;from&#xA0;X:-10&#xA0;to&#xA0;X:10</span></span></div><div class=\"line\"><span class=\"source js\"><span>traceInfo.resetTrace(startPoint,&#xA0;endPoint,&#xA0;radius);</span></span></div><div class=\"line\"><span class=\"source js\"><span>//&#xA0;You&#xA0;really&#xA0;need&#xA0;to&#xA0;do&#xA0;a&#xA0;good&#xA0;broadphase&#xA0;triangle&#xA0;set&#xA0;reduction&#xA0;(ie:&#xA0;octree)</span></span></div><div class=\"line\"><span class=\"source js\"><span>//&#xA0;to&#xA0;reduce&#xA0;the&#xA0;number&#xA0;of&#xA0;triangles&#xA0;you&apos;re&#xA0;colliding&#xA0;against.&#xA0;This&#xA0;is&#xA0;not&#xA0;a&#xA0;cheap</span></span></div><div class=\"line\"><span class=\"source js\"><span>//&#xA0;test!</span></span></div><div class=\"line\"><span class=\"source js\"><span>for(i&#xA0;in&#xA0;sceneTriangles)&#xA0;{</span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;tri&#xA0;=&#xA0;sceneTriangles[i];</span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;traceSphereTriangle(tri.verts[0],&#xA0;tri.verts[1],&#xA0;tri.verts[2],&#xA0;traceInfo);</span></span></div><div class=\"line\"><span class=\"source js\"><span>}</span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;</span></span></div><div class=\"line\"><span class=\"source js\"><span>if(traceInfo.collision)&#xA0;{</span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;//&#xA0;This&#xA0;will&#xA0;get&#xA0;the&#xA0;position&#xA0;of&#xA0;the&#xA0;sphere&#xA0;when&#xA0;it&#xA0;collided&#xA0;with&#xA0;the&#xA0;closest&#xA0;triangle</span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;traceInfo.getTraceEndpoint(endPoint);</span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;</span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;//&#xA0;This&#xA0;is&#xA0;the&#xA0;point&#xA0;on&#xA0;the&#xA0;triangle&#xA0;where&#xA0;the&#xA0;sphere&#xA0;collided.</span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;traceInfo.intersectPoint;</span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;//&#xA0;You&#xA0;can&#xA0;use&#xA0;the&#xA0;above&#xA0;two&#xA0;values&#xA0;to&#xA0;generate&#xA0;an&#xA0;appropriate&#xA0;collision&#xA0;response.</span></span></div><div class=\"line\"><span class=\"source js\"><span>}</span></span></div>\n</code></pre>\n<h2 id=\"development-roadmap\">Development roadmap</h2>\n<p><del>The original gist uses a really old version of gl-matrix 1.3.8. Later versions of gl-matrix had non-backwards compatible API changes. This has old copy of gl-matrix has been hard coded in the code base. This was to evaluate if the gist code actually worked. Future iterations of this module will work to bring the dependencies up to speed and review potential performance gains.</del></p>\n<p>This module has been updated to a modern version of <code>gl-matrix</code> future road map will be purely optimization.</p>\n"}