{"readme":"<h1 class=\"title\"><a target=\"_blank\" href=\"https://github.com/mattdesl/gl-shader-extract\">gl-shader-extract</a><div class=\"contrib\"></div></h1>\n<p><a href=\"http://github.com/badges/stability-badges\"></a></p>\n<p>Extracts active uniforms and attributes from a compiled WebGLProgram at runtime and normalizes their types to match GLSL syntax.</p>\n<p>For an offline version, see <a href=\"https://www.npmjs.com/package/glsl-extract\">glsl-extract</a>. </p>\n<h2 id=\"example\">Example</h2>\n<pre><code class=\"lang-js\"><div class=\"line\"><span class=\"source js\"><span>var&#xA0;extract&#xA0;=&#xA0;require(&apos;gl-shader-extract&apos;)</span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;</span></span></div><div class=\"line\"><span class=\"source js\"><span>var&#xA0;fragSource&#xA0;=&#xA0;&apos;void&#xA0;main()&apos;</span></span></div><div class=\"line\"><span class=\"source js\"><span>var&#xA0;vertSource&#xA0;=&#xA0;`</span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;attribute&#xA0;vec4&#xA0;position;</span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;uniform&#xA0;mat4&#xA0;projection;</span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;void&#xA0;main()&#xA0;{&#xA0;</span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;&#xA0;&#xA0;gl_Position&#xA0;=&#xA0;projection&#xA0;*&#xA0;position;</span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;}</span></span></div><div class=\"line\"><span class=\"source js\"><span>`</span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;</span></span></div><div class=\"line\"><span class=\"source js\"><span>//compile&#xA0;the&#xA0;source&#xA0;into&#xA0;a&#xA0;WebGLProgram&#xA0;object</span></span></div><div class=\"line\"><span class=\"source js\"><span>var&#xA0;program&#xA0;=&#xA0;...</span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;</span></span></div><div class=\"line\"><span class=\"source js\"><span>//get&#xA0;the&#xA0;uniforms&#xA0;and&#xA0;attributes</span></span></div><div class=\"line\"><span class=\"source js\"><span>var&#xA0;data&#xA0;=&#xA0;extract(gl,&#xA0;program)</span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;</span></span></div><div class=\"line\"><span class=\"source js\"><span>console.log(data.attributes[0])&#xA0;</span></span></div><div class=\"line\"><span class=\"source js\"><span>//&#xA0;{&#xA0;type:&#xA0;&quot;vec4&quot;,&#xA0;name:&#xA0;&apos;position&apos;&#xA0;}</span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;</span></span></div><div class=\"line\"><span class=\"source js\"><span>console.log(data.uniforms[0])&#xA0;</span></span></div><div class=\"line\"><span class=\"source js\"><span>//&#xA0;{&#xA0;type:&#xA0;&quot;mat4&quot;,&#xA0;name:&#xA0;&apos;projection&apos;&#xA0;}</span></span></div>\n</code></pre>\n<h2 id=\"usage\">Usage</h2>\n<p><a href=\"https://www.npmjs.com/package/gl-shader-extract\"></a></p>\n<h3 id=\"install\">Install</h3>\n<pre><code class=\"lang-sh\"><div class=\"line\"><span class=\"source shell\"><span>npm&#xA0;install&#xA0;gl-shader-extract&#xA0;--save</span></span></div>\n</code></pre>\n<h3 id=\"api\">API</h3>\n<h4 id=\"data-extract-gl-program-\"><code>data = extract(gl, program)</code></h4>\n<p>Extracts the <code>type</code> and <code>name</code> from each uniform/attribute that was active in the shader. The returned <code>data</code> looks like this:</p>\n<pre><code class=\"lang-js\"><div class=\"line\"><span class=\"source js\"><span>{</span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;attributes:&#xA0;[&#xA0;{&#xA0;name:&#xA0;&apos;position&apos;,&#xA0;type:&#xA0;&apos;vec4&apos;&#xA0;}&#xA0;],</span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;uniforms:&#xA0;[&#xA0;{&#xA0;name:&#xA0;&apos;projection&apos;,&#xA0;type:&#xA0;&apos;mat4&apos;&#xA0;}&#xA0;]</span></span></div><div class=\"line\"><span class=\"source js\"><span>}</span></span></div>\n</code></pre>\n<h4 id=\"uniforms-extract-uniforms-gl-program-\"><code>uniforms = extract.uniforms(gl, program)</code></h4>\n<p>As above, but only extracts the <code>uniforms</code> array.</p>\n<h4 id=\"attributes-extract-attributes-gl-program-\"><code>attributes = extract.attributes(gl, program)</code></h4>\n<p>As above, but only extracts the <code>attributes</code> array.</p>\n<h3 id=\"type-mapping\">Type Mapping</h3>\n<table>\n<thead>\n<tr>\n<th>getProgramParameter</th>\n<th>normalized</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>FLOAT_VEC2</code></td>\n<td><code>vec2</code></td>\n</tr>\n<tr>\n<td><code>FLOAT_VEC3</code></td>\n<td><code>vec3</code></td>\n</tr>\n<tr>\n<td><code>FLOAT_VEC4</code></td>\n<td><code>vec4</code></td>\n</tr>\n<tr>\n<td><code>INT</code></td>\n<td><code>int</code></td>\n</tr>\n<tr>\n<td><code>INT_VEC2</code></td>\n<td><code>ivec2</code></td>\n</tr>\n<tr>\n<td><code>INT_VEC3</code></td>\n<td><code>ivec3</code></td>\n</tr>\n<tr>\n<td><code>INT_VEC4</code></td>\n<td><code>ivec4</code></td>\n</tr>\n<tr>\n<td><code>BOOL</code></td>\n<td><code>bool</code></td>\n</tr>\n<tr>\n<td><code>BOOL_VEC2</code></td>\n<td><code>bvec2</code></td>\n</tr>\n<tr>\n<td><code>BOOL_VEC3</code></td>\n<td><code>bvec3</code></td>\n</tr>\n<tr>\n<td><code>BOOL_VEC4</code></td>\n<td><code>bvec4</code></td>\n</tr>\n<tr>\n<td><code>FLOAT_MAT2</code></td>\n<td><code>mat2</code></td>\n</tr>\n<tr>\n<td><code>FLOAT_MAT3</code></td>\n<td><code>mat3</code></td>\n</tr>\n<tr>\n<td><code>FLOAT_MAT4</code></td>\n<td><code>mat4</code></td>\n</tr>\n<tr>\n<td><code>SAMPLER_2D</code></td>\n<td><code>sampler2D</code></td>\n</tr>\n<tr>\n<td><code>SAMPLER_CUBE</code></td>\n<td><code>samplerCube</code></td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"webgl-2-0-support\">WebGL 2.0 Support</h4>\n<p>The following are also translated in WebGL2.</p>\n<table>\n<thead>\n<tr>\n<th>getProgramParameter</th>\n<th>normalized</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>FLOAT_MAT2x3</code></td>\n<td><code>mat2x3</code></td>\n</tr>\n<tr>\n<td><code>FLOAT_MAT2x4</code></td>\n<td><code>mat2x4</code></td>\n</tr>\n<tr>\n<td><code>FLOAT_MAT3x2</code></td>\n<td><code>mat3x2</code></td>\n</tr>\n<tr>\n<td><code>FLOAT_MAT3x4</code></td>\n<td><code>mat3x4</code></td>\n</tr>\n<tr>\n<td><code>FLOAT_MAT4x2</code></td>\n<td><code>mat4x2</code></td>\n</tr>\n<tr>\n<td><code>FLOAT_MAT4x3</code></td>\n<td><code>mat4x3</code></td>\n</tr>\n<tr>\n<td><code>UNSIGNED_INT</code></td>\n<td><code>uint</code></td>\n</tr>\n<tr>\n<td><code>UNSIGNED_INT_VEC2</code></td>\n<td><code>uvec2</code></td>\n</tr>\n<tr>\n<td><code>UNSIGNED_INT_VEC3</code></td>\n<td><code>uvec3</code></td>\n</tr>\n<tr>\n<td><code>UNSIGNED_INT_VEC4</code></td>\n<td><code>uvec4</code></td>\n</tr>\n<tr>\n<td><code>UNSIGNED_INT_SAMPLER_2D</code></td>\n<td><code>usampler2D</code></td>\n</tr>\n<tr>\n<td><code>UNSIGNED_INT_SAMPLER_3D</code></td>\n<td><code>usampler3D</code></td>\n</tr>\n<tr>\n<td><code>UNSIGNED_INT_SAMPLER_2D_ARRAY</code></td>\n<td><code>usampler2DArray</code></td>\n</tr>\n<tr>\n<td><code>UNSIGNED_INT_SAMPLER_CUBE</code></td>\n<td><code>usamplerCube</code></td>\n</tr>\n<tr>\n<td><code>INT_SAMPLER_2D</code></td>\n<td><code>isampler2D</code></td>\n</tr>\n<tr>\n<td><code>INT_SAMPLER_3D</code></td>\n<td><code>isampler3D</code></td>\n</tr>\n<tr>\n<td><code>INT_SAMPLER_2D_ARRAY</code></td>\n<td><code>isampler2DArray</code></td>\n</tr>\n<tr>\n<td><code>INT_SAMPLER_CUBE</code></td>\n<td><code>isamplerCube</code></td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"credits\">Credits</h2>\n<p>This was pulled out from @mikolalysenko&apos;s <a href=\"https://www.npmjs.com/package/gl-shader\">gl-shader</a> for use in other engines/frameworks.</p>\n<h2 id=\"license\">License</h2>\n<p>MIT, see <a href=\"http://github.com/mattdesl/gl-shader-extract/blob/master/LICENSE.md\">LICENSE.md</a> for details.</p>\n"}