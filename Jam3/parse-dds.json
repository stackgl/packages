{"readme":"<h1 class=\"title\"><a target=\"_blank\" href=\"https://github.com/Jam3/parse-dds\">parse-dds</a><div class=\"contrib\"></div></h1>\n<p><a href=\"http://github.com/badges/stability-badges\"></a></p>\n<p>Parses DDS texture headers in Node and the browser. </p>\n<p>This was adapted from <a href=\"https://twitter.com/Tojiro\">@toji</a>&apos;s wonderful <a href=\"https://github.com/toji/webgl-texture-utils/blob/master/texture-util/dds.js\">webgl-texture-utils</a>. </p>\n<p>Currently this only supports a limited range of common DDS formats: </p>\n<ul>\n<li>DXT1 (RGB)</li>\n<li>DXT3 (RGBA)</li>\n<li>DXT5 (RGBA)</li>\n<li>Cubemaps (RGBA32f) - like those from <a href=\"https://github.com/dariomanesku/cmft\">cmft</a> and <a href=\"https://seblagarde.wordpress.com/2012/06/10/amd-cubemapgen-for-physically-based-rendering/\">Modified AMD Cubemapgen</a></li>\n</ul>\n<p>See <a href=\"http://github.com/Jam3/parse-dds/blob/master/test/index.js\">test/index.js</a> for an example in Node, or <a href=\"http://github.com/Jam3/parse-dds/blob/master/demo/index.js\">demo/index.js</a> for a WebGL compressed texture example.</p>\n<p>Pull requests welcome.</p>\n<h2 id=\"example\">Example</h2>\n<pre><code class=\"lang-js\"><div class=\"line\"><span class=\"source js\"><span>var&#xA0;parse&#xA0;=&#xA0;require(&apos;parse-dds&apos;)</span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;</span></span></div><div class=\"line\"><span class=\"source js\"><span>var&#xA0;buffer&#xA0;=&#xA0;new&#xA0;Uint8Array(...&#xA0;DDS&#xA0;file&#xA0;...)</span></span></div><div class=\"line\"><span class=\"source js\"><span>var&#xA0;dds&#xA0;=&#xA0;parse(buffer)</span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;</span></span></div><div class=\"line\"><span class=\"source js\"><span>console.log(dds.format)&#xA0;&#xA0;//&#xA0;&apos;dxt1&apos;</span></span></div><div class=\"line\"><span class=\"source js\"><span>console.log(dds.shape)&#xA0;&#xA0;&#xA0;//&#xA0;[&#xA0;width,&#xA0;height&#xA0;]</span></span></div><div class=\"line\"><span class=\"source js\"><span>console.log(dds.images)&#xA0;&#xA0;//&#xA0;[&#xA0;...&#xA0;mipmap&#xA0;level&#xA0;data&#xA0;...&#xA0;]</span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;</span></span></div><div class=\"line\"><span class=\"source js\"><span>//&#xA0;get&#xA0;the&#xA0;compressed&#xA0;texture&#xA0;data&#xA0;for&#xA0;gl.compressedTexImage2D</span></span></div><div class=\"line\"><span class=\"source js\"><span>var&#xA0;image&#xA0;=&#xA0;dds.images[0]</span></span></div><div class=\"line\"><span class=\"source js\"><span>var&#xA0;texture&#xA0;=&#xA0;new&#xA0;Uint8Array(buffer,&#xA0;image.offset,&#xA0;image.length)</span></span></div>\n</code></pre>\n<h2 id=\"install\">Install</h2>\n<pre><code class=\"lang-sh\"><div class=\"line\"><span class=\"source shell\"><span>npm&#xA0;install&#xA0;parse-dds&#xA0;--save-dev</span></span></div>\n</code></pre>\n<h2 id=\"usage\">Usage</h2>\n<p><a href=\"https://www.npmjs.com/package/parse-dds\"></a></p>\n<h4 id=\"dds-parse-arraybuffer-\"><code>dds = parse(arrayBuffer)</code></h4>\n<p>Parses an ArrayBuffer and returns the DDS headers for that file.</p>\n<p>The returned values:</p>\n<ul>\n<li><code>shape</code> an array representing the <code>[ width, height ]</code> of the texture</li>\n<li><code>flags</code> the DDS bit flags stored in the file</li>\n<li><code>format</code> a string, either <code>&apos;dxt1&apos;</code>, <code>&apos;dxt3&apos;</code>, <code>&apos;dxt5&apos;</code> or <code>&apos;rgba32f&apos;</code></li>\n<li><code>images</code> a list of information to extract sub-arrays for each mipmap level</li>\n<li><code>cubemap</code> a boolean indicating whether the file contains a cubemap image</li>\n</ul>\n<p>Each image has the form:</p>\n<pre><code class=\"lang-js\"><div class=\"line\"><span class=\"source js\"><span>{</span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;shape:&#xA0;[&#xA0;width,&#xA0;height&#xA0;],&#xA0;//&#xA0;size&#xA0;of&#xA0;this&#xA0;mipmap&#xA0;level</span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;offset:&#xA0;x,&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;//&#xA0;byte&#xA0;offset&#xA0;into&#xA0;the&#xA0;input&#xA0;buffer</span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;length:&#xA0;len,&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;//&#xA0;length&#xA0;of&#xA0;this&#xA0;mipmap&#xA0;level&#xA0;image&#xA0;data</span></span></div><div class=\"line\"><span class=\"source js\"><span>}</span></span></div>\n</code></pre>\n<h2 id=\"see-also\">See Also</h2>\n<ul>\n<li><a href=\"https://github.com/Jam3/preview-dds\">preview-dds</a> for loading and previewing DDS files</li>\n</ul>\n<h2 id=\"license\">License</h2>\n<p>MIT, see <a href=\"http://github.com/Jam3/parse-dds/blob/master/LICENSE.md\">LICENSE.md</a> for details.</p>\n"}