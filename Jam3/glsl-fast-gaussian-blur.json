{"readme":"<h1 class=\"title\"><a target=\"_blank\" href=\"https://github.com/Jam3/glsl-fast-gaussian-blur\">glsl-fast-gaussian-blur</a><div class=\"contrib\"></div></h1>\n<p><a href=\"http://github.com/badges/stability-badges\"></a></p>\n<p><iframe scrolling=\"no\" seamless=\"seamless\" src=\"http://jam3.github.io/glsl-fast-gaussian-blur/\"></iframe></p>\n<p><a href=\"http://jam3.github.io/glsl-fast-gaussian-blur/\">demo</a> - <a href=\"http://github.com/Jam3/glsl-fast-gaussian-blur/blob/master/./demo/index.js\">source</a></p>\n<p>Optimized separable gaussian blurs for GLSL. This is adapted from <a href=\"http://rastergrid.com/blog/2010/09/efficient-gaussian-blur-with-linear-sampling/\">Efficient Gaussian Blur with Linear Sampling</a>.</p>\n<h2 id=\"example\">Example</h2>\n<p>The function blurs in a single direction. For correct results, the texture should be using <code>gl.LINEAR</code> filtering.</p>\n<pre><code class=\"lang-glsl\"><div class=\"line\"><span class=\"source glsl\"><span>#</span><span class=\"meta preprocessor keyword import define glsl\"><span>pragma&#xA0;glslify:</span></span><span class=\"entity name function glsl\"><span>&#xA0;blur&#xA0;</span></span><span class=\"operator glsl\"><span>=&#xA0;</span></span><span class=\"keyword operator glsl\"><span>require</span></span><span>(</span><span class=\"string quoted double\"><span>&apos;glsl-fast-gaussian-blur&apos;</span></span><span>)</span><span>&#xA0;</span></span></div><div class=\"line\"><span class=\"source glsl\"><span>&#xA0;</span></span></div><div class=\"line\"><span class=\"source glsl\"><span class=\"storage modifier glsl\"><span>uniform</span></span><span>&#xA0;</span><span class=\"storage type glsl\"><span>vec2</span></span><span>&#xA0;iResolution;</span></span></div><div class=\"line\"><span class=\"source glsl\"><span class=\"storage modifier glsl\"><span>uniform</span></span><span>&#xA0;</span><span class=\"storage type glsl\"><span>sampler2D</span></span><span>&#xA0;iChannel0;</span></span></div><div class=\"line\"><span class=\"source glsl\"><span class=\"storage modifier glsl\"><span>uniform</span></span><span>&#xA0;</span><span class=\"storage type glsl\"><span>vec2</span></span><span>&#xA0;direction;</span></span></div><div class=\"line\"><span class=\"source glsl\"><span>&#xA0;</span></span></div><div class=\"line\"><span class=\"source glsl\"><span class=\"storage type glsl\"><span>void</span></span><span class=\"meta function c\"><span class=\"punctuation whitespace function leading c\"><span>&#xA0;</span></span><span class=\"entity name function c\"><span>main</span></span><span class=\"meta parens c\"><span class=\"punctuation section parens begin c\"><span>(</span></span><span class=\"punctuation section parens end c\"><span>)</span></span></span><span>&#xA0;</span><span class=\"meta block c\"><span class=\"punctuation section block begin c\"><span>{</span></span></span></span></span></div><div class=\"line\"><span class=\"source glsl\"><span class=\"meta function c\"><span class=\"meta block c\"><span>&#xA0;&#xA0;</span><span class=\"storage type glsl\"><span>vec2</span></span><span>&#xA0;uv&#xA0;=</span><span class=\"meta function-call c\"><span class=\"punctuation whitespace function-call leading c\"><span>&#xA0;</span></span><span class=\"support function any-method c\"><span>vec2</span></span><span>(</span></span><span class=\"support variable glsl\"><span>gl_FragCoord</span></span><span class=\"punctuation separator variable-access c\"><span>.</span></span><span class=\"variable other dot-access c\"><span>xy</span></span><span>&#xA0;/&#xA0;iResolution</span><span class=\"punctuation separator variable-access c\"><span>.</span></span><span class=\"variable other dot-access c\"><span>xy</span></span><span>);</span></span></span></span></div><div class=\"line\"><span class=\"source glsl\"><span class=\"meta function c\"><span class=\"meta block c\"><span>&#xA0;&#xA0;</span><span class=\"support variable glsl\"><span>gl_FragColor</span></span><span>&#xA0;=</span><span class=\"meta function-call c\"><span class=\"punctuation whitespace function-call leading c\"><span>&#xA0;</span></span><span class=\"support function any-method c\"><span>blur</span></span><span>(</span></span><span>iChannel0,&#xA0;uv,&#xA0;iResolution</span><span class=\"punctuation separator variable-access c\"><span>.</span></span><span class=\"variable other dot-access c\"><span>xy</span></span><span>,&#xA0;direction);</span></span></span></span></div><div class=\"line\"><span class=\"source glsl\"><span class=\"meta function c\"><span class=\"meta block c\"><span class=\"punctuation section block end c\"><span>}</span></span></span></span></span></div>\n</code></pre>\n<p>The module provides three levels of &quot;taps&quot; (the number of pixels averaged for the blur) that can be required individually. The default is 9.</p>\n<pre><code class=\"lang-glsl\"><div class=\"line\"><span class=\"source glsl\"><span>#</span><span class=\"meta preprocessor keyword import define glsl\"><span>pragma&#xA0;glslify:</span></span><span class=\"entity name function glsl\"><span>&#xA0;blur1&#xA0;</span></span><span class=\"operator glsl\"><span>=&#xA0;</span></span><span class=\"keyword operator glsl\"><span>require</span></span><span>(</span><span class=\"string quoted double\"><span>&apos;glsl-fast-gaussian-blur/13&apos;</span></span><span>)</span><span>&#xA0;</span></span></div><div class=\"line\"><span class=\"source glsl\"><span>#</span><span class=\"meta preprocessor keyword import define glsl\"><span>pragma&#xA0;glslify:</span></span><span class=\"entity name function glsl\"><span>&#xA0;blur2&#xA0;</span></span><span class=\"operator glsl\"><span>=&#xA0;</span></span><span class=\"keyword operator glsl\"><span>require</span></span><span>(</span><span class=\"string quoted double\"><span>&apos;glsl-fast-gaussian-blur/9&apos;</span></span><span>)</span><span>&#xA0;</span></span></div><div class=\"line\"><span class=\"source glsl\"><span>#</span><span class=\"meta preprocessor keyword import define glsl\"><span>pragma&#xA0;glslify:</span></span><span class=\"entity name function glsl\"><span>&#xA0;blur3&#xA0;</span></span><span class=\"operator glsl\"><span>=&#xA0;</span></span><span class=\"keyword operator glsl\"><span>require</span></span><span>(</span><span class=\"string quoted double\"><span>&apos;glsl-fast-gaussian-blur/5&apos;</span></span><span>)</span><span>&#xA0;</span></span></div>\n</code></pre>\n<p>Since this is separable, you will need multiple passes to blur an image in both directions. See <a href=\"https://github.com/mattdesl/lwjgl-basics/wiki/ShaderLesson5\">here</a> for details or <a href=\"http://github.com/Jam3/glsl-fast-gaussian-blur/blob/master/./demo/index.js\">the demo</a> for an implementation.</p>\n<h2 id=\"install\">Install</h2>\n<p>Use <a href=\"https://www.npmjs.com/\">npm</a> to install and <a href=\"https://github.com/stackgl/glslify\">glslify</a> to consume the function in your shaders.</p>\n<pre><code class=\"lang-sh\"><div class=\"line\"><span class=\"source shell\"><span>npm&#xA0;install&#xA0;glsl-fast-gaussian-blur&#xA0;--save</span></span></div>\n</code></pre>\n<h2 id=\"usage\">Usage</h2>\n<p><a href=\"https://www.npmjs.com/package/glsl-fast-gaussian-blur\"></a></p>\n<h4 id=\"vec4-blur-sampler2d-image-vec2-uv-vec2-resolution-vec2-direction-\"><code>vec4 blur(sampler2D image, vec2 uv, vec2 resolution, vec2 direction)</code></h4>\n<p>Blurs the <code>image</code> from the specified <code>uv</code> coordinate, using the given <code>resolution</code> (size in pixels of screen) and <code>direction</code> -- typically either <code>[1, 0]</code> (horizontal) or <code>[0, 1]</code> (vertical).</p>\n<p>Returns the blurred pixel color.</p>\n<h2 id=\"further-optimizations\">Further Optimizations</h2>\n<p>This can be further optimized on some devices (notably PowerVR) by using non-dependent texture reads. This can be done by calculating the texture coordinates in the vertex shader, and passing them as varyings to the fragment shader. This is left as an exercise for the reader to keep this module simple. You can read more about it <a href=\"http://xissburg.com/faster-gaussian-blur-in-glsl/\">here</a>.</p>\n<h2 id=\"license\">License</h2>\n<p>MIT, see <a href=\"http://github.com/Jam3/glsl-fast-gaussian-blur/blob/master/LICENSE.md\">LICENSE.md</a> for details.</p>\n"}